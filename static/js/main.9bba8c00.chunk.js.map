{"version":3,"sources":["common/c1-Input/InputText.module.css","features/f6-PacksList/p1-UI/components/Pagination/Pagination.module.css","features/f1-Sign-in/s1-UI/Sign-in.module.css","features/f6-PacksList/p1-UI/components/CustomRange/CustomRange.module.css","features/f9-Learn/l1-UI/Question/Question.module.css","features/f2-Registration/r1-UI/SignUp.module.css","features/f3-Forgot/f1-UI/Forgot.module.css","features/f6-PacksList/p1-UI/components/CheckBoxToggle/ToggleCheckBox.module.css","common/c2-Button/Button.module.css","features/f1-Sign-in/s1-UI/FormLogin/FormLogin.module.css","features/f6-PacksList/p1-UI/PacksList.module.css","features/f7-Cards/c1-UI/Cards.module.css","common/c3-Checkbox/Checkbox.module.css","features/f5-Profile/p1-UI/Profile.module.css","features/f4-Password-assistance/a1-UI/Assistance.module.css","common/c6-Table/Table.module.css","common/c4-Navlink/CustomNavlink.module.css","features/f8-modals/Modal.module.css","features/f7-Cards/c1-UI/Component/CardsTableBody.module.css","features/f7-Cards/c1-UI/Component/Search.module.css","common/c5-Loader/loader.module.css","common/CommonStyle.module.css","features/f6-PacksList/p1-UI/components/modalsContainers/DeleteCardPack.module.css","features/f6-PacksList/p1-UI/components/modalsContainers/EditCardPack.module.css","features/f9-Learn/l1-UI/LearnContainer.module.css","main/m1-UI/Header.module.css","features/f2-Registration/r3-DAL/SignUpApi.ts","features/f1-Sign-in/s3-DAL/SignAPI.ts","features/f1-Sign-in/s2-BLL/Sign-in-reducer.ts","common/c2-Button/Button.tsx","common/c1-Input/InputText.tsx","common/c1-Input/InputPassword.tsx","common/c3-Checkbox/Checkbox.tsx","features/f1-Sign-in/s1-UI/FormLogin/FormLogin.tsx","assets/img/preloader.svg","common/c5-Loader/Preloader.tsx","features/f1-Sign-in/s1-UI/Sign-in.tsx","features/f1-Sign-in/s1-UI/SignInContainer.tsx","features/f2-Registration/r2-BLL/Sign-up-reducer.ts","features/f2-Registration/r1-UI/SignUp.tsx","features/f2-Registration/r1-UI/SignUpContainer.tsx","features/f5-Profile/p3-DAL/Profile-API.ts","features/f5-Profile/p2-BLL/Profile-reducer.ts","features/f5-Profile/p1-UI/Profile.tsx","features/f3-Forgot/f1-UI/Forgot.tsx","features/f3-Forgot/f3-DAL/forgotAPI.ts","features/f3-Forgot/f2-BLL/Forgot-reducer.ts","features/f3-Forgot/f1-UI/ForgotContainer.tsx","features/f4-Password-assistance/a1-UI/Assistance.tsx","features/f4-Password-assistance/a3-DAL/assistanceAPI.ts","features/f4-Password-assistance/a2-BLL/assistance-reducer.ts","features/f4-Password-assistance/a1-UI/AssistanceContainer.tsx","common/c6-Table/Table.tsx","features/f6-PacksList/p3-DAL/packsListApi.ts","features/f6-PacksList/p2-BLL/packsList-reducer.ts","features/f6-PacksList/p1-UI/components/Pagination/Pagination.tsx","features/f6-PacksList/p1-UI/components/Select/MySelect.tsx","common/c4-Navlink/CustomNavlink.tsx","features/f8-modals/Modal.tsx","features/f6-PacksList/p1-UI/components/modalsContainers/DeleteCardPackModalContainer.tsx","features/f6-PacksList/p1-UI/components/modalsContainers/EditCardPackModalContainer.tsx","features/f6-PacksList/p1-UI/TableBodyForCardPacks.tsx","features/f6-PacksList/p1-UI/components/CheckBoxToggle/ToggleCheckBox.tsx","features/f6-PacksList/p1-UI/components/CustomRange/CustomRange.tsx","features/f6-PacksList/p4-Test/test.ts","main/m1-UI/Routes.tsx","features/f6-PacksList/p1-UI/components/modalsContainers/AddCardPackModalContainer.tsx","features/f6-PacksList/p1-UI/PacksList.tsx","features/f6-PacksList/p1-UI/hooks/Debounce.tsx","features/f7-Cards/c3-DAL/cardsApi.ts","features/f7-Cards/c2-BLL/cards-reducer.ts","features/f7-Cards/c1-UI/Component/CardsTableBody.tsx","features/f7-Cards/c1-UI/Component/Search.tsx","features/f7-Cards/c1-UI/CardsContainer.tsx","features/f9-Learn/l3-DAL/learnApi.ts","features/f9-Learn/l2-BLL/learn-reducer.ts","features/f9-Learn/l1-UI/Question/Rate/Rate.tsx","features/f9-Learn/l1-UI/Question/Question.tsx","features/f9-Learn/l1-UI/LearnContainer.tsx","main/m1-UI/Header.tsx","features/f0-Initialized/app-reducer.ts","main/m1-UI/Main.tsx","main/m2-BLL/store.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","StatusCode","instance","axios","create","withCredentials","baseURL","signAPI","user","post","initialState","loading","error","userId","authUserAC","type","loaderAC","errorRequestAC","Button","red","className","green","restProps","finalClassName","s","default","btn","InputText","onChange","onChangeText","onKeyPress","onEnter","setError","label","finalInputClassName","errorInput","input","wrapper","e","currentTarget","value","key","onBlur","required","animationBorder","InputPassword","useState","passwordType","setPasswordType","autoComplete","onPassword","onClick","Checkbox","onChangeChecked","children","spanClassName","checkbox","checked","FormLogin","React","memo","onChangeEmail","onChangePassword","email","password","onChangeRememberMe","rememberMe","wrapperInputs","checkboxWrapper","Preloader","loader","src","alt","SignIn","requestLogin","finallySignInClass","signInContent","forgot","to","Path","FORGOT_PATH","link","registration","SIGN_UP_PATH","SignInContainer","dispatch","useDispatch","useSelector","state","signIn","isInitialized","app","initialized","setEmail","setPassword","setRememberMe","useCallback","PROFILE_PATH","loginData","then","res","data","_id","catch","errorMessage","response","finally","requestApi","payload","rej","isSign","isFetch","returnServerError","fetchingRegistration","SignUp","serverError","isFetching","resetErrors","formHandler","pass","setPass","newPass","setNewPass","login","setLogin","errorLogin","errorPass","setErrorPass","errorNewPass","setErrorNewPass","useEffect","errorsJSX","map","err","pageWrapper","formStyle","disabled","push","length","SignUpContainer","register","SIGN_IN_PATH","status","success","alert","signUp","fail","serverResponse","registrationNewUser","profileAPI","delete","put","auth","setLoading","logoutThunk","console","log","Profile","profile","nameFromState","name","edit","setEdit","setName","ava","avatar","title","autoFocus","a","updateProfile","publicCardPacksCount","btnLogout","Forgot","isSuccess","sendInstruction","img","btnForgot","forgotApi","from","message","initialstate","ForgotContainer","restorePassword","Assistance","sendNewPassword","btnSetPassword","assistanceApi","token","resetPasswordToken","requestStatus","setRequestStatus","AssistanceContainer","assistance","useParams","info","setNewPassword","Table","tableHeaders","tableBody","headersJSX","header","headerTitle","table","PacksListApi","page","pageCount","packName","min","max","user_id","sortPacks","get","params","cardsPack","id","cardPacks","cardPacksTotalCount","maxCardsCount","minCardsCount","myPacks","setPageCount","count","setPage","setMinCardsCount","setMaxCardsCount","setPreloader","getPacksCards","getState","packsList","packs","totalCount","Pagination","onChangePage","acc","visPre","setVisPre","visNext","setVisNext","pageNumbers","Math","ceil","pages","i","previosPage","nextPage","pageNextAcc","pagePreviosAcc","isNaN","paginationWrapper","pagination","visible","active","MySelect","options","onChangeCountCards","optionElement","option","valueOf","CustomNavlink","body","activeClassName","Modal","show","height","width","backgroundOnClick","top","left","modalBackground","modalWindow","style","DeleteCardPackModalContainer","isButtonDisabled","namePack","deleteId","setShow","clickHandlerHiddenModal","clickHandlerDeleteCardPackById","deletePackCardById","wrapContainer","EditCardPackModalContainer","oldName","packId","setChangeNameCardPack","changeNameCardPack","clickHandlerEditPackById","TableBodyForCardPacks","myId","jsDate","Date","parse","updated","lastUpdate","getDate","getMonth","getFullYear","getHours","getMinutes","color","cursor","cardsCount","user_name","ToggleCheckBox","superInput","checkboxSwitchChecked","checkboxSwitch","CustomRange","getMin","getMax","setMin","setMax","minPoint","setMinPoint","editMin","setEditMin","maxVal","setMaxVal","minVal","setMinVal","minEnabled","setMinEnabled","maxEnabled","setMaxEnabled","mouseMoveHandler","clientX","mouseDownHandler","mouseUpHandler","slider","onMouseMove","event","offsetLeft","minDrag","onMouseUp","onMouseDown","onDoubleClick","textMin","border","maxLength","maxDrag","textMax","Test","nameCardsPack","this","testData","getRandomTest","int","floor","random","setTestData","rnd","AddCardPackModalContainer","buttonTitle","setPackName","test","PacksList","searchPackName","setSearchPackName","sortPack","setSortPack","debouncedSearchPackName","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","packsListHeaderWrapper","marginRight","setMyPacks","marginTop","getMinCountPackCard","getMaxCountPackCard","packListTableWrapper","packsListFooterWrapper","packListPageSelector","cardsApi","packListId","cardsPack_id","card","cardsList","cardsTotalCount","searchQuestion","searchAnswer","getCardsTC","cards","TableBody","editId","setEditId","question","setQuestion","answer","setAnswer","cardListView","filter","indexOf","grade","btnCRUD","innerText","updateCardTC","Search","placeholder","btnSearch","setSearchAnswer","CardsContainer","history","useHistory","cardPackId","backWrapper","back","goBack","viewBox","fill","xmlns","d","stroke","strokeWidth","addCard","footerWrapper","learnApi","questNumber","setFetch","Rate","onChangeHandler","defaultChecked","text","margin","Question","cardName","returnAction","rate","setRate","setRateHandler","questionWrapper","buttonsWrapper","LERGNOM_PACKS_LIST_PATH","answerTitle","LearnContainer","questions","learn","cardPackName","exmapleClick","card_id","cardId","marginBottom","Routes","commonStyle","container","exact","path","render","PASSWORD_ASSISTANCE_PATH","CARDS_LIST_PATH","LERGNOM_LEARN_PATH","Header","Main","Promise","all","isAuth","reducers","combineReducers","action","sort","b","localeCompare","store","createStore","applyMiddleware","thunkMiddleware","window","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9bba8c00.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"InputText_wrapper__1ThhT\",\"input\":\"InputText_input__F-S4Y\",\"label\":\"InputText_label__2J6Nv\",\"animationBorder\":\"InputText_animationBorder__1hXFZ\",\"errorInput\":\"InputText_errorInput__3rcwp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationWrapper\":\"Pagination_paginationWrapper__M1wyF\",\"pagination\":\"Pagination_pagination__1zhO3\",\"prev\":\"Pagination_prev__1jlKI\",\"next\":\"Pagination_next__3xqqr\",\"active\":\"Pagination_active__OC0EI\",\"visible\":\"Pagination_visible__2oMUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Sign-in_wrapper__3xaRN\",\"signInContent\":\"Sign-in_signInContent__3tw_5\",\"forgot\":\"Sign-in_forgot__SerP2\",\"link\":\"Sign-in_link__1fUBq\",\"registration\":\"Sign-in_registration__1kYCi\",\"error\":\"Sign-in_error__1gPOJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"CustomRange_slider__1Sq4Z\",\"min\":\"CustomRange_min__1C_Yi\",\"minDrag\":\"CustomRange_minDrag__1aevW\",\"text\":\"CustomRange_text__2AyGi\",\"textNone\":\"CustomRange_textNone__1oXEV\",\"max\":\"CustomRange_max__3RhLA\",\"maxDrag\":\"CustomRange_maxDrag__lkkN9\",\"textMin\":\"CustomRange_textMin__2WkzL\",\"textMax\":\"CustomRange_textMax__CmR9m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"questionWrapper\":\"Question_questionWrapper__2kLtK\",\"buttonsWrapper\":\"Question_buttonsWrapper__34172\",\"answerTitle\":\"Question_answerTitle__3mhVW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"SignUp_pageWrapper__3WbGJ\",\"formStyle\":\"SignUp_formStyle__3TRxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Forgot_wrapper__2FcvV\",\"errorMessage\":\"Forgot_errorMessage__3pCIH\",\"img\":\"Forgot_img__2t-5p\",\"btnForgot\":\"Forgot_btnForgot__3QN54\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"ToggleCheckBox_default__1bSWW\",\"checkbox\":\"ToggleCheckBox_checkbox__3yPx1\",\"checkboxSwitch\":\"ToggleCheckBox_checkboxSwitch__2JYC7\",\"checkboxSwitchChecked\":\"ToggleCheckBox_checkboxSwitchChecked__1fyxn\",\"superInput\":\"ToggleCheckBox_superInput__2OXhg\",\"errorInput\":\"ToggleCheckBox_errorInput__2tzgc\",\"error\":\"ToggleCheckBox_error__3xdXJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__XwERE\",\"default\":\"Button_default__3KFLL\",\"red\":\"Button_red__11RH8\",\"green\":\"Button_green__1SC9I\",\"button\":\"Button_button__3GXau\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperInputs\":\"FormLogin_wrapperInputs__OIxPa\",\"checkboxWrapper\":\"FormLogin_checkboxWrapper__1HY2x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packsListFooterWrapper\":\"PacksList_packsListFooterWrapper__2G9NJ\",\"packsListHeaderWrapper\":\"PacksList_packsListHeaderWrapper__2KSjl\",\"packListPageSelector\":\"PacksList_packListPageSelector__2S4pt\",\"packListTableWrapper\":\"PacksList_packListTableWrapper__3fSMq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backWrapper\":\"Cards_backWrapper__PcP2p\",\"back\":\"Cards_back__2KR0K\",\"addCard\":\"Cards_addCard__3HPij\",\"footerWrapper\":\"Cards_footerWrapper__TIvMm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Checkbox_wrapper__3Txnz\",\"checkbox\":\"Checkbox_checkbox__2burK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__2SuGn\",\"errorMessage\":\"Profile_errorMessage__11NbG\",\"btnLogout\":\"Profile_btnLogout__3kX3W\",\"ava\":\"Profile_ava__1KNMd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorMessage\":\"Assistance_errorMessage__1nmMI\",\"wrapper\":\"Assistance_wrapper__15wpL\",\"btnSetPassword\":\"Assistance_btnSetPassword__3SiM7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Table_table__3T3xk\",\"link\":\"Table_link__qGt7a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"a\":\"CustomNavlink_a__2JusA\",\"active\":\"CustomNavlink_active__1gBBF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackground\":\"Modal_modalBackground__2acjW\",\"modalWindow\":\"Modal_modalWindow__3t8uq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnCRUD\":\"CardsTableBody_btnCRUD__sdURD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Search_wrapper__1JMoG\",\"btnSearch\":\"Search_btnSearch__3xmP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__3podu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CommonStyle_container__2_69T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapContainer\":\"DeleteCardPack_wrapContainer__3i6D4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapContainer\":\"EditCardPack_wrapContainer__3kRyU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LearnContainer_wrapper__IOtKa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1JiwK\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0',\r\n    // baseURL: \"http://localhost:7542/2.0/\",\r\n});\r\n\r\n\r\nexport type ResponseType<D = {}> = {\r\n    status: StatusCode\r\n    statusText: string\r\n    Data: D\r\n}\r\n\r\nexport enum StatusCode {\r\n    success = 201,\r\n    fail = 400\r\n}\r\n\r\nexport type AddedUserType = {\r\n    created: string\r\n    email: string\r\n    isAdmin: boolean\r\n    name: string\r\n    publicCardPacksCount: number\r\n    rememberMe: boolean\r\n    updated: string\r\n    verified: boolean\r\n    __v: number\r\n}\r\n\r\nexport type ErrorType = {\r\n    error: string,\r\n    email: string,\r\n    in: string,\r\n}\r\n\r\n\r\nexport const requestApi = {\r\n    register(payload: { email: string, password: string }) {\r\n        return instance.post<ResponseType<AddedUserType | ErrorType>>(`auth/register`, payload).then(res => res\r\n        ).catch(rej => rej.response);\r\n    },\r\n};\r\n","import axios from \"axios\";\r\nimport {UserType} from \"../s2-BLL/Sign-in-reducer\";\r\n\r\ntype LoginUser = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://neko-back.herokuapp.com/2.0\",\r\n    // baseURL: \"http://localhost:7542/2.0/\",\r\n});\r\n\r\n\r\nexport const signAPI = {\r\n    authRequest(user: LoginUser) {\r\n        return instance.post<UserType>(\"auth/login\", user);\r\n    },\r\n    authMe() {\r\n        return instance.post('auth/me');\r\n    },\r\n    authMeUpdate(newName: string, avatar: string) {\r\n        return instance.put('auth/me', {newName, avatar});\r\n    },\r\n\r\n};","import {Dispatch} from \"redux\";\r\nimport {signAPI} from \"../s3-DAL/SignAPI\";\r\n\r\nconst initialState = {\r\n    user: null as null | UserType,\r\n    loading: false,\r\n    error: '',\r\n    userId: 'none',\r\n    // isAuth: false,\r\n};\r\n\r\nexport const signInReducer = (state: SignInStateType = initialState, action: ActionsType): SignInStateType => {\r\n    switch (action.type) {\r\n        // case \"SIGN-IN/CHECK_IS_AUTH\": {\r\n        //     return {...state, isAuth: action.isAuth};\r\n        // }\r\n        case \"SIGN-IN/USER_ID\": {\r\n            return {...state, userId: action.userId};\r\n        }\r\n        case \"SIGN-IN/AUTH-USER\":\r\n            return {...state, user: action.user};\r\n        case \"SIGN-IN/LOADER\":\r\n            return {...state, loading: action.loading};\r\n        case \"SIGN-IN/ERROR\":\r\n            return {...state, error: action.error};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// actions\r\nexport const authUserAC = (user: UserType | null) => ({type: \"SIGN-IN/AUTH-USER\", user} as const);\r\nconst loaderAC = (loading: boolean) => ({type: \"SIGN-IN/LOADER\", loading} as const);\r\nexport const errorRequestAC = (error: string) => ({type: \"SIGN-IN/ERROR\", error} as const);\r\n//action lergnom\r\ntype GetUserIdActionType = ReturnType<typeof getUserId>;\r\nconst getUserId = (userId: string) => ({type: 'SIGN-IN/USER_ID', userId} as const);\r\ntype CheckIsAuthActionType = ReturnType<typeof setIsAuth>\r\nexport const setIsAuth = (isAuth: boolean) => ({type: 'SIGN-IN/CHECK_IS_AUTH', isAuth} as const);\r\n\r\n//thunk lergnom no need\r\nexport const checkUserIsAuth = () => async (dispatch: Dispatch<ActionsType>) => {\r\n    try {\r\n        const response = await signAPI.authMe();\r\n        if (response.status === 200) {\r\n            dispatch(authUserAC(response.data));\r\n            dispatch(setIsAuth(true));\r\n        }\r\n    } catch (err) {\r\n    }\r\n};\r\n\r\n\r\n// thunks\r\nexport const userAuthRequestTC = (loginData: LoginData) => (dispatch: Dispatch) => {\r\n    dispatch(loaderAC(true));\r\n    signAPI.authRequest(loginData)\r\n        .then(res => {\r\n            dispatch(authUserAC(res.data));\r\n            dispatch(getUserId(res.data._id));\r\n\r\n        })\r\n        .catch(e => {\r\n            const errorMessage = e.response?.data?.error || \"Unknown error!\";\r\n            dispatch(errorRequestAC(errorMessage));\r\n        })\r\n        .finally(() => dispatch(loaderAC(false)));\r\n};\r\n// types\r\n\r\ntype SignInStateType = typeof initialState\r\n\r\nexport type UserType = {\r\n    avatar: string,\r\n    created: string,\r\n    email: string,\r\n    isAdmin: boolean,\r\n    name: string,\r\n    publicCardPacksCount: number,\r\n    rememberMe: boolean,\r\n    token: string,\r\n    tokenDeathTime: number,\r\n    updated: string,\r\n    verified: boolean,\r\n    __v: number,\r\n    _id: string,\r\n    deviceTokens: any\r\n}\r\n\r\ntype LoginData = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\ntype ActionsType = ReturnType<typeof authUserAC>\r\n    | ReturnType<typeof loaderAC>\r\n    | ReturnType<typeof errorRequestAC>\r\n    | GetUserIdActionType\r\n    | CheckIsAuthActionType","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react';\r\nimport s from './Button.module.css';\r\n\r\n// тип пропсов обычной кнопки, children в котором храниться название кнопки там уже описан\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n    red?: boolean\r\n    green?: boolean\r\n}\r\n\r\nconst Button: React.FC<SuperButtonPropsType> = (\r\n    {\r\n        red, className, green,\r\n        ...restProps// все остальные пропсы попадут в объект restProps, там же будет children\r\n    }\r\n) => {\r\n    const finalClassName = `${red ? s.red : green ? s.green : s.default} ${s.btn} ${className}`;\r\n\r\n    return (\r\n        <button\r\n            className={finalClassName}\r\n            {...restProps} // отдаём кнопке остальные пропсы если они есть (children там внутри)\r\n        />\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes, KeyboardEvent} from 'react'\r\nimport s from './InputText.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута\r\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\r\ntype SuperInputTextPropsType = DefaultInputPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\r\n    onChangeText?: (value: string) => void\r\n    onEnter?: () => void\r\n    setError?: (error: string) => void\r\n    error?: string\r\n    label?: string\r\n    spanClassName?: string\r\n}\r\n\r\nexport const InputText: React.FC<SuperInputTextPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeText,\r\n        onKeyPress, onEnter, setError,\r\n        label, error,\r\n        className,\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setError && setError('')\r\n        onChange && onChange(e) // если есть пропс onChange то передать ему е (поскольку onChange не обязателен)\r\n        onChangeText && onChangeText(e.currentTarget.value)\r\n    }\r\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        onKeyPress && onKeyPress(e);\r\n        onEnter && e.key === 'Enter' && onEnter() // если есть пропс onEnter и если нажата кнопка Enter, то вызвать его\r\n    }\r\n    const onBlurcallback = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setError && setError('')\r\n        if (!e.currentTarget.value) {\r\n            setError && setError('field is required')\r\n        }\r\n    }\r\n\r\n    const finalInputClassName = `${error ? s.errorInput : ''} ${s.input} ${className}`\r\n\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <input\r\n                type={'text'}\r\n                onChange={onChangeCallback}\r\n                onKeyPress={onKeyPressCallback}\r\n                onBlur={onBlurcallback}\r\n                className={finalInputClassName}\r\n                required // меняет поведение label!!!\r\n\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\r\n\r\n            />\r\n            <span className={s.animationBorder}> </span>\r\n            <label className={s.label}>{label}</label>\r\n        </div>\r\n    )\r\n} // TODO: required?","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes, KeyboardEvent, useState} from 'react'\r\nimport s from './InputText.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута\r\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\r\ntype SuperInputTextPropsType = DefaultInputPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\r\n    onChangeText?: (value: string) => void\r\n    onEnter?: () => void\r\n    setError?: (error: string) => void\r\n    error?: string\r\n    label?: string\r\n    spanClassName?: string\r\n}\r\n\r\nexport const InputPassword: React.FC<SuperInputTextPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeText,\r\n        onKeyPress, onEnter, setError,\r\n        label, error,\r\n        className,\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange && onChange(e) // если есть пропс onChange то передать ему е (поскольку onChange не обязателен)\r\n        onChangeText && onChangeText(e.currentTarget.value)\r\n    }\r\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        onKeyPress && onKeyPress(e);\r\n        onEnter && e.key === 'Enter' && onEnter() // если есть пропс onEnter и если нажата кнопка Enter, то вызвать его\r\n    }\r\n    const onBlurcallback = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setError && setError('')\r\n        if (!e.currentTarget.value) {\r\n            setError && setError('field is required')\r\n        }\r\n    }\r\n\r\n    const [passwordType, setPasswordType] = useState(\"password\")\r\n\r\n    const openPasswordHandler = () => {\r\n        passwordType === \"text\" ? setPasswordType(\"password\") : setPasswordType(\"text\")\r\n    }\r\n\r\n    const finalInputClassName = `${error ? s.errorInput : ''} ${s.input} ${className}`\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <input\r\n                onChange={onChangeCallback}\r\n                onKeyPress={onKeyPressCallback}\r\n                onBlur={onBlurcallback}\r\n                className={finalInputClassName}\r\n                autoComplete={\"off\"}\r\n                required // меняет поведение label!!!\r\n                type={passwordType}\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\r\n            />\r\n            <span className={s.onPassword} onClick={openPasswordHandler}> </span>\r\n\r\n            <span className={s.animationBorder}> </span>\r\n            <label className={s.label}>{label}</label>\r\n        </div>\r\n    )\r\n}","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport s from './Checkbox.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n    onChangeChecked?: (checked: boolean) => void\r\n    spanClassName?: string\r\n}\r\n\r\nconst Checkbox: React.FC<SuperCheckboxPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeChecked,\r\n        className, spanClassName,\r\n        children, // в эту переменную попадёт текст, типизировать не нужно так как он затипизирован в React.FC\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps в том числе checked\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChangeChecked && onChangeChecked(e.currentTarget.checked)\r\n        onChange && onChange(e)\r\n    }\r\n\r\n    const finalInputClassName = `${s.checkbox} ${className ? className : ''}`\r\n\r\n    return (\r\n        <label className={s.wrapper}>\r\n            <input\r\n                type={'checkbox'}\r\n                onChange={onChangeCallback}\r\n                className={finalInputClassName}\r\n\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (checked например там внутри)\r\n            />\r\n            {children && <p className={s.spanClassName}>{children}</p>}\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default Checkbox","import React from \"react\";\r\nimport s from \"./FormLogin.module.css\";\r\nimport {InputText} from \"../../../../common/c1-Input/InputText\";\r\nimport {InputPassword} from \"../../../../common/c1-Input/InputPassword\";\r\nimport Checkbox from \"../../../../common/c3-Checkbox/Checkbox\";\r\n\r\ntype FormLoginType = {\r\n    onChangeEmail: (email: string) => void\r\n    onChangePassword: (password: string) => void\r\n    onChangeRememberMe: (rememberMe: boolean) => void\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    error: string\r\n}\r\n\r\nexport const FormLogin: React.FC<FormLoginType> = React.memo((\r\n    {onChangeEmail, onChangePassword, email, password, onChangeRememberMe, rememberMe, error}\r\n) => {\r\n\r\n    return (\r\n        <div className={s.wrapperInputs}>\r\n            <InputText\r\n                value={email}\r\n                onChangeText={onChangeEmail}\r\n                setError={() => true}\r\n                error={error}\r\n                label={\"Email\"}\r\n                className={s.input}\r\n            />\r\n            <InputPassword\r\n                value={password}\r\n                onChangeText={onChangePassword}\r\n                setError={() => true}\r\n                error={error}\r\n                label={\"Password\"}\r\n                className={s.input}\r\n            />\r\n            <div className={s.checkboxWrapper}>\r\n                <Checkbox onChangeChecked={onChangeRememberMe} checked={rememberMe}>Remember me </Checkbox>\r\n            </div>\r\n        </div>\r\n    )\r\n})","export default __webpack_public_path__ + \"static/media/preloader.2f856a33.svg\";","import React from \"react\";\r\nimport loader from \"../../assets/img/preloader.svg\"\r\nimport s from \"./loader.module.css\"\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <div className={s.loader}>\r\n            <img src={loader} alt=\"\"/>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport s from './Sign-in.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Button from \"../../../common/c2-Button/Button\";\r\nimport {FormLogin} from \"./FormLogin/FormLogin\";\r\nimport {Preloader} from \"../../../common/c5-Loader/Preloader\";\r\nimport {Path} from \"../../../main/m1-UI/Routes\";\r\n\r\ntype PropsType = {\r\n    loading: boolean\r\n    error: string\r\n    email: string\r\n    onChangeEmail: (email: string) => void\r\n    onChangePassword: (password: string) => void\r\n    onChangeRememberMe: (rememberMe: boolean) => void\r\n    password: string\r\n    rememberMe: boolean\r\n    requestLogin: () => void\r\n}\r\n\r\nexport const SignIn: React.FC<PropsType> = ({\r\n    loading,\r\n    error,\r\n    email,\r\n    requestLogin,\r\n    onChangeEmail,\r\n    onChangePassword,\r\n    onChangeRememberMe,\r\n    password,\r\n    rememberMe,\r\n}) => {\r\n\r\n    const finallySignInClass = `${loading ? s.signInContent : \"\"}`\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            {loading && <Preloader/>}\r\n            <div className={finallySignInClass}>\r\n                <h1>It-incubator</h1>\r\n                <h2>Sign in</h2>\r\n                <FormLogin onChangeEmail={onChangeEmail}\r\n                           onChangePassword={onChangePassword}\r\n                           onChangeRememberMe={onChangeRememberMe}\r\n                           email={email}\r\n                           password={password}\r\n                           rememberMe={rememberMe}\r\n                           error={error}\r\n                />\r\n                <div className={s.forgot}>\r\n                    <NavLink to={Path.FORGOT_PATH} className={s.link}>Forgot Password?</NavLink>\r\n                </div>\r\n                <div className={s.error}>{error}</div>\r\n                <Button onClick={requestLogin}>Login</Button>\r\n                <div className={s.registration}>\r\n                    <p>Don't have an account? </p>\r\n                    <NavLink to={Path.SIGN_UP_PATH} className={s.link}>Sign Up</NavLink>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useCallback, useState} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {errorRequestAC, userAuthRequestTC, UserType} from \"../s2-BLL/Sign-in-reducer\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Path} from \"../../../main/m1-UI/Routes\";\r\nimport {SignIn} from \"./Sign-in\";\r\n\r\n\r\nexport const SignInContainer: React.FC = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const user = useSelector<AppStoreType, UserType | null>(state => state.signIn.user);\r\n    const loading = useSelector<AppStoreType, boolean>(state => state.signIn.loading);\r\n    const error = useSelector<AppStoreType, string>(state => state.signIn.error);\r\n    const isInitialized = useSelector<AppStoreType, boolean>(state => state.app.initialized);\r\n\r\n    const [email, setEmail] = useState<string>(\"\");\r\n    const [password, setPassword] = useState<string>(\"\");\r\n    const [rememberMe, setRememberMe] = useState<boolean>(false);\r\n\r\n    const onChangeEmail = useCallback((email: string) => {\r\n        error && dispatch(errorRequestAC(''));\r\n        setEmail(email);\r\n    }, [error, dispatch]);\r\n\r\n    const onChangePassword = useCallback((password: string) => {\r\n        error && dispatch(errorRequestAC(''));\r\n        setPassword(password);\r\n    }, [error, dispatch]);\r\n\r\n    const onChangeRememberMe = useCallback((checked: boolean) => {\r\n        error && dispatch(errorRequestAC(''));\r\n        setRememberMe(checked);\r\n    }, [error, dispatch]);\r\n\r\n    const requestLogin = () => {\r\n        dispatch(userAuthRequestTC({email, password, rememberMe}));\r\n    };\r\n\r\n    if (user && isInitialized) {\r\n        return <Redirect to={Path.PROFILE_PATH}/>;\r\n    }\r\n\r\n    return (\r\n        <SignIn\r\n            loading={loading}\r\n            error={error}\r\n            email={email}\r\n            onChangeEmail={onChangeEmail}\r\n            onChangePassword={onChangePassword}\r\n            onChangeRememberMe={onChangeRememberMe}\r\n            password={password}\r\n            rememberMe={rememberMe}\r\n            requestLogin={requestLogin}\r\n        />\r\n    );\r\n};","import {AxiosResponse} from \"axios\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AddedUserType, ErrorType, requestApi, StatusCode} from \"../r3-DAL/SignUpApi\";\r\n\r\nconst initialState = {\r\n    error: [] as Array<string>,\r\n    isSign: false,\r\n    isFetch: false\r\n};\r\n\r\nexport const signUpReducer = (state: SignUpStateType = initialState, action: ActionTypes): SignUpStateType => {\r\n    switch (action.type) {\r\n        case \"SIGN-UP/FETCHING\": {\r\n            return {...state, isFetch: action.isFetch};\r\n        }\r\n        case \"SIGN-UP/SET_SIGN_UP\": {\r\n            return {...state, isSign: action.signUp};\r\n        }\r\n        case \"SIGN-UP/SERVER_ERROR\": {\r\n            return {...state, error: action.error};\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n\r\n// action\r\nexport const returnServerError = (error: Array<string>) => ({type: \"SIGN-UP/SERVER_ERROR\", error} as const);\r\nexport const isSignUp = (signUp: boolean) => ({type: \"SIGN-UP/SET_SIGN_UP\", signUp} as const);\r\nexport const fetchingRegistration = (isFetch: boolean) => ({type: \"SIGN-UP/FETCHING\", isFetch} as const);\r\n\r\n// thunk\r\nexport const registrationNewUser = (login: string, pass: string) => (dispatch: Dispatch<ActionTypes>) => {\r\n    dispatch(fetchingRegistration(true));\r\n    requestApi.register({email: login, password: pass})\r\n        .then((response: AxiosResponse<AddedUserType & ErrorType>) => {\r\n            switch (response.status) {\r\n                case StatusCode.success: {\r\n                    //Take User if needs\r\n                    // const user: AddedUserType = response.data;\r\n                    alert(\"Вы успешно зарегистрировались  :)\");\r\n                    dispatch(isSignUp(true));\r\n                    break;\r\n                }\r\n                case StatusCode.fail: {\r\n                    const serverResponse: ErrorType = response.data;\r\n                    dispatch(returnServerError([serverResponse.error]));\r\n                    break;\r\n                }\r\n                default: {\r\n                    dispatch(returnServerError(['Some error']));\r\n                    break;\r\n                }\r\n            }\r\n        })\r\n        .catch((rej) => {\r\n            dispatch(returnServerError(['Some error on Server. We work with it.']));\r\n        }).finally(() => {\r\n            dispatch(fetchingRegistration(false));\r\n        }\r\n    );\r\n};\r\n\r\n// types\r\ntype SignUpStateType = typeof initialState\r\n\r\ntype ActionTypes = ReturnType<typeof returnServerError>\r\n    | ReturnType<typeof isSignUp>\r\n    | ReturnType<typeof fetchingRegistration>\r\n","import s from './SignUp.module.css';\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {InputText} from \"../../../common/c1-Input/InputText\";\r\nimport {InputPassword} from \"../../../common/c1-Input/InputPassword\";\r\nimport Button from \"../../../common/c2-Button/Button\";\r\nimport {Preloader} from \"../../../common/c5-Loader/Preloader\";\r\n\r\ntype PropsType = {\r\n    serverError: Array<string>\r\n    isFetching: boolean\r\n    resetErrors: () => void\r\n    formHandler: (error: Array<string>, login: string, pass: string) => void\r\n}\r\n\r\nexport const SignUp: React.FC<PropsType> = ({\r\n    serverError,\r\n    isFetching,\r\n    resetErrors,\r\n    formHandler,\r\n}) => {\r\n\r\n    //Use state for fields\r\n    const [pass, setPass] = useState<string>('');\r\n    const [newPass, setNewPass] = useState<string>('');\r\n    const [login, setLogin] = useState<string>('');\r\n\r\n    //Define error on the form\r\n    let error: Array<string>;\r\n    const errorLogin = login ? '' : 'add your email';\r\n    const [errorPass, setErrorPass] = useState<string>('');\r\n    const [errorNewPass, setErrorNewPass] = useState<string>('');\r\n\r\n    useEffect(() => {\r\n        pass === '' ? setErrorPass('field is required') : setErrorPass('');\r\n        newPass === '' ? setErrorNewPass('field is required') : setErrorNewPass('');\r\n    }, [pass, newPass]);\r\n\r\n    const validateform = () => {\r\n        error = [];\r\n        //Check fields before query\r\n        login === '' && error.push(\"Error your login field empty\\n\");\r\n        (pass || newPass) === '' && error.push(\"Password field empty\\n\");\r\n        pass.length < 8 && error.push(\"Password should be more  7 symbols\\n\");\r\n        pass !== newPass && error.push(\"Passwords don't match!\\n\");\r\n        formHandler(error, login, pass)\r\n    };\r\n\r\n\r\n    const errorsJSX = serverError.map(err => {\r\n        return (\r\n            <li key={err}>\r\n                {err}\r\n            </li>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className={s.pageWrapper}>\r\n            {isFetching && <Preloader/>}\r\n            <h1>it-incubator</h1>\r\n            <h2>SignUp</h2>\r\n            <form>\r\n                <div className={s.formStyle}>\r\n\r\n                    <InputText\r\n                        value={login}\r\n                        onChangeText={setLogin}\r\n                        error={errorLogin}\r\n                        label={\"E-mail\"}\r\n                        onClick={resetErrors}\r\n                        disabled={isFetching}\r\n                    />\r\n                </div>\r\n                <div className={s.formStyle}>\r\n                    <InputPassword value={pass}\r\n                                   onChangeText={setPass}\r\n                                   error={errorPass}\r\n                                   onClick={resetErrors}\r\n                                   disabled={isFetching}\r\n                                   label={\"Password\"}\r\n                                   autoComplete={\"new-password\"} // влияет на автозаполнение браузером полей Email Password\r\n                    />\r\n                </div>\r\n                <div className={s.formStyle}>\r\n                    <InputPassword value={newPass}\r\n                                   onChangeText={setNewPass}\r\n                                   error={errorNewPass}\r\n                                   onClick={resetErrors}\r\n                                   disabled={isFetching}\r\n                                   label={\"Confirm password\"}\r\n                    />\r\n                </div>\r\n                <div className={s.formStyle}>\r\n                    <ul>\r\n                        {errorsJSX}\r\n                    </ul>\r\n                </div>\r\n                <Button onClick={validateform} disabled={isFetching}>\r\n                    SignUp\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    );\r\n};","import React from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {registrationNewUser, returnServerError} from '../r2-BLL/Sign-up-reducer';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {SignUp} from \"./SignUp\";\r\nimport {Path} from \"../../../main/m1-UI/Routes\";\r\nimport {UserType} from \"../../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\n\r\nexport const SignUpContainer: React.FC = () => {\r\n\r\n    const serverError = useSelector<AppStoreType, Array<string>>(state => state.register.error);\r\n    const isFetching = useSelector<AppStoreType, boolean>(state => state.register.isFetch);\r\n    const user = useSelector<AppStoreType, UserType | null>(state => state.signIn.user);\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const resetErrors = () => {\r\n        dispatch(returnServerError([]));\r\n    };\r\n\r\n    const formHandler = (error: Array<string>, login: string, pass: string) => {\r\n        if (!error.length) {\r\n            dispatch(registrationNewUser(login, pass)); //ThunkHere\r\n        } else {\r\n            dispatch(returnServerError(error)); //show error\r\n        }\r\n    };\r\n\r\n\r\n    if (user) {\r\n        return <Redirect to={Path.SIGN_IN_PATH}/>;\r\n    }\r\n\r\n    return (\r\n        <SignUp\r\n            serverError={serverError}\r\n            isFetching={isFetching}\r\n            resetErrors={resetErrors}\r\n            formHandler={formHandler}/>\r\n    );\r\n};\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://neko-back.herokuapp.com/2.0\",\r\n    // baseURL: \"http://localhost:7542/2.0/\",\r\n});\r\n\r\nexport const profileAPI = {\r\n    logout() {\r\n        return instance.delete('auth/me');\r\n    },\r\n    changeProfile(payload: { name: string, avatar: string }) {\r\n        return instance.put('/auth/me', {...payload});\r\n    }\r\n};","import {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../p3-DAL/Profile-API\";\r\nimport {authUserAC} from \"../../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    error: null,\r\n    auth: true,\r\n};\r\n\r\nexport const profileReducer = (state: ProfileState = initialState, action: ActionType) => {\r\n    switch (action.type) {\r\n        case \"PROFILE/ERROR\":\r\n            return {...state, error: action.error};\r\n        case \"PROFILE/LOADING\":\r\n            return {...state, loading: action.loading};\r\n        case \"PROFILE/AUTH\":\r\n            return {...state, auth: action.auth};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// actions\r\nconst setLoading = (loading: boolean) => ({type: 'PROFILE/LOADING', loading} as const);\r\nconst setError = (error: string | null) => ({type: 'PROFILE/ERROR', error} as const);\r\nconst setAuth = (auth: boolean) => ({type: 'PROFILE/AUTH', auth} as const);\r\n\r\n// thunks\r\nexport const logoutThunk = (dispatch: Dispatch) => {\r\n    dispatch(setLoading(true));\r\n    profileAPI.logout()\r\n        .then(() => {\r\n            dispatch(setAuth(false));\r\n            dispatch(authUserAC(null));\r\n        })\r\n        .catch(error => {\r\n            dispatch(setError(error.response.data.error));\r\n            console.log(error.response.data.error);\r\n        })\r\n        .finally(() => dispatch(setLoading(false)));\r\n};\r\n\r\nexport const updateProfile = (name: string, avatar?: string) => async (dispatch: Dispatch<ActionType>) => {\r\n    try {\r\n        await profileAPI.changeProfile({\r\n            name,\r\n            avatar: 'https://www.meme-arsenal.com/memes/8ae510a2cd5493b409b45771b0fc6312.jpg'\r\n        });\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n};\r\n\r\n// types\r\nexport type ProfileState = typeof initialState\r\n\r\ntype ActionType = ReturnType<typeof setLoading>\r\n    | ReturnType<typeof setError>\r\n    | ReturnType<typeof setAuth>\r\n","import React, {useState} from \"react\";\r\nimport s from './Profile.module.css';\r\nimport Button from \"../../../common/c2-Button/Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {UserType} from \"../../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\nimport {logoutThunk, ProfileState, updateProfile} from \"../p2-BLL/Profile-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Path} from \"../../../main/m1-UI/Routes\";\r\nimport {Preloader} from \"../../../common/c5-Loader/Preloader\";\r\nimport {InputText} from \"../../../common/c1-Input/InputText\";\r\n\r\nexport const Profile: React.FC = () => {\r\n\r\n    const user = useSelector<AppStoreType, UserType | null>(state => state.signIn.user);\r\n    const profile = useSelector<AppStoreType, ProfileState>(state => state.profile);\r\n    const dispatch = useDispatch();\r\n    const onLogoutHandler = () => dispatch(logoutThunk);\r\n    const nameFromState = user ? user.name : \"user\";\r\n\r\n\r\n    const [edit, setEdit] = useState<boolean>(false);\r\n    const [name, setName] = useState<string>(nameFromState);\r\n\r\n    const clickHandlerForEdit = () => {\r\n        setEdit(true);\r\n    };\r\n\r\n    const clickHandlerForUpdate = () => {\r\n        setEdit(false);\r\n        dispatch(updateProfile(name));\r\n    };\r\n\r\n    if (profile.loading) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    if (!user) return <Redirect to={Path.SIGN_IN_PATH}/>;\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.ava}>\r\n                <img src={user.avatar} alt={\"avatar\"}/>\r\n            </div>\r\n            {!edit &&\r\n            <h3 title={\"change name please click\"} onClick={clickHandlerForEdit}>{user.name}</h3>}\r\n            {edit && <InputText autoFocus onBlur={clickHandlerForUpdate} value={name} onChangeText={setName}/>}\r\n            <span>E-mail: {user.email}</span>\r\n            <span>Total count of packs: {user.publicCardPacksCount}</span>\r\n            <Button\r\n                onClick={onLogoutHandler}\r\n                className={s.btnLogout}\r\n            >Logout</Button>\r\n        </div>\r\n    );\r\n};","import s from './Forgot.module.css'\r\nimport { InputText } from '../../../common/c1-Input/InputText'\r\nimport Button from '../../../common/c2-Button/Button'\r\n\r\n\r\ntype PropsType = {\r\n    isSuccess: boolean\r\n    value: string\r\n    onChangeText: (value: string) => void\r\n    setError: (error: string) => void\r\n    error: string\r\n    sendInstruction: () => void\r\n}\r\n\r\nexport const Forgot: React.FC<PropsType> = ({\r\n    isSuccess,\r\n    value,\r\n    onChangeText,\r\n    setError,\r\n    error,\r\n    sendInstruction,\r\n}) => {\r\n\r\n    return (\r\n        isSuccess\r\n            ? <div className={s.wrapper}>\r\n                <h1>it-incubator</h1>\r\n                <h2>Check Email</h2>\r\n                <div className={s.img}>\r\n                    <img alt={\"check email\"} src={\"https://ehs.utoronto.ca/wp-content/uploads/2017/11/email-us.png\"}/>\r\n                </div>\r\n                <p>We’ve sent an Email with instructions to {value}</p>\r\n            </div>\r\n\r\n            : <div className={s.wrapper}>\r\n                <h1>it-incubator</h1>\r\n                <h2>Forgot your password?</h2>\r\n                <InputText\r\n                    value={value}\r\n                    onChangeText={onChangeText}\r\n                    setError={setError}\r\n                    error={error}\r\n                    label={\"E-mail\"}/>\r\n                <span className={s.errorMessage}> {error} </span>   \r\n                <p>Enter your email address and we will send you further instructions </p>\r\n                <Button\r\n                    onClick={sendInstruction}\r\n                    className={s.btnForgot}\r\n                >Send Instructions</Button>\r\n            </div>\r\n\r\n    )\r\n}","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://neko-back.herokuapp.com/2.0\",\r\n})\r\n\r\nexport const forgotApi = {\r\n    sendForgotPassword(email: string) {\r\n        return instance.post(\"/auth/forgot\", {\r\n            email,\r\n            from: \"korsakov.ua.dn@gmail.com\",\r\n            message: `<div style=\"background-color: lime; padding: 15px\"> password recovery link: \r\n                      <a href='https://korsakov-ua-dn.github.io/Friday#/assistance/$token$'>link</a></div>`\r\n        })\r\n    },\r\n    getPing() {\r\n        return instance.get(\"/ping\")\r\n\r\n    }\r\n}","import { Dispatch } from 'redux'\r\nimport { forgotApi } from '../f3-DAL/forgotAPI'\r\n\r\nconst initialstate = {\r\n    isSuccess: false, // меняет отображение компоненты Forgot на Check Email\r\n    loading: false, // отрисовуется в ForgotContainer\r\n    errorMessage: '' // отрисовуется в Forgot\r\n}\r\n\r\nexport const forgotReducer = (state: ForgotStateType = initialstate, action: ForgotActionType): ForgotStateType => {\r\n    switch (action.type) {\r\n        case \"FORGOT/SET_SUCCESS\": return {...state, isSuccess: action.success}\r\n        case \"FORGOT/SET_LOADING\": return {...state, loading: action.loading}\r\n        case \"FORGOT/SET_ERROR\": return {...state, errorMessage: action.errorMessage}\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\n// actions\r\nconst setSuccess = (success: boolean) => ({type: \"FORGOT/SET_SUCCESS\", success} as const)\r\nconst setLoading = (loading: boolean) => ({type: \"FORGOT/SET_LOADING\", loading} as const)\r\nconst setError = (errorMessage: string) => ({type: \"FORGOT/SET_ERROR\", errorMessage} as const)\r\n\r\n\r\n// thunks\r\nexport const restorePassword = (email: string) => (dispatch: Dispatch) => {\r\n    dispatch(setLoading(true))\r\n    forgotApi.sendForgotPassword(email)\r\n    .then(res => {\r\n        dispatch(setSuccess(true))\r\n    })\r\n    .catch(e => {\r\n        const errorMessage = e.response?.data?.error || \"Unknown error!\"\r\n        dispatch(setError(errorMessage))\r\n    })\r\n    .finally( () => dispatch(setLoading(false)) )\r\n}\r\n\r\n// types\r\nexport type ForgotStateType = typeof initialstate\r\n\r\nexport type ForgotActionType = ReturnType<typeof setSuccess>\r\n    | ReturnType<typeof setLoading>\r\n    | ReturnType<typeof setError>","import {useEffect, useState} from 'react'\r\nimport {Forgot} from './Forgot'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {AppStoreType} from '../../../main/m2-BLL/store'\r\nimport {ForgotStateType, restorePassword} from '../f2-BLL/Forgot-reducer'\r\n\r\nexport const ForgotContainer: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const forgot = useSelector<AppStoreType , ForgotStateType>(state => state.forgot)\r\n\r\n    useEffect(() => { setError(forgot.errorMessage)}, [forgot.errorMessage])\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [error, setError] = useState(forgot.errorMessage)\r\n\r\n    const sendInstruction = () => {\r\n        dispatch(restorePassword(email))\r\n    }\r\n\r\n    return (\r\n        forgot.loading\r\n\r\n        ? <h1>Loading...</h1>\r\n\r\n        : <Forgot\r\n            isSuccess={forgot.isSuccess}\r\n            value={email}\r\n            onChangeText = {setEmail}\r\n            setError={setError}\r\n            error = {error}\r\n            sendInstruction={sendInstruction} />\r\n    )\r\n}","import s from './Assistance.module.css'\r\nimport {InputText} from '../../../common/c1-Input/InputText'\r\nimport Button from '../../../common/c2-Button/Button'\r\nimport React from 'react'\r\n\r\ntype PropsType = {\r\n    value: string\r\n    onChangeText: (value: string) => void\r\n    sendNewPassword: () => void\r\n    error: string\r\n}\r\n\r\nexport const Assistance: React.FC<PropsType> = ({\r\n    value,\r\n    onChangeText,\r\n    sendNewPassword,\r\n    error,\r\n}) => {\r\n\r\n    return (\r\n        error \r\n\r\n        ? <span className={s.errorMessage}>{ error }</span>\r\n\r\n        : <div className={s.wrapper}>\r\n            <h1>it-incubator</h1>\r\n            <h2>Create new password</h2>\r\n            <InputText\r\n                value={value}\r\n                onChangeText={onChangeText}\r\n                label={\"Password\"}/>\r\n            <p>Create new password and we will send you further instructions to email</p>\r\n            <Button\r\n                onClick={sendNewPassword}\r\n                className={s.btnSetPassword}\r\n            >Create new password</Button>\r\n        </div>\r\n    )\r\n}","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://neko-back.herokuapp.com/2.0\",\r\n})\r\n\r\nexport const assistanceApi = {\r\n    sendNewPassword(password: string, token: string) {\r\n        return instance.post(\"/auth/set-new-password\", {\r\n            password,\r\n            resetPasswordToken: token\r\n        })\r\n    },\r\n}","import { Dispatch } from 'redux'\r\nimport { assistanceApi } from '../a3-DAL/assistanceAPI'\r\n\r\nconst initialstate = {\r\n    requestStatus: false, // Redirect to Sign-in at AssistanceContainer\r\n    loading: false, // отрисовуется в AssistanceContainer\r\n    errorMessage: '', // прокидывается в Assistance\r\n}\r\n\r\nexport const assistanceReducer =\r\n    (state: AssistanceStateType = initialstate, action: AssistanceActionType): AssistanceStateType => {\r\n\r\n    switch (action.type) {\r\n        case \"ASSISTANCE/SET_REQUEST_STATUS\": return {...state, requestStatus: action.status}\r\n        case \"ASSISTANCE/SET_ERROR_MESSAGE\": return {...state, errorMessage: action.message}\r\n        case \"ASSISTANCE/SET_LOADING\": return {...state, loading: action.loading}\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\n// actions\r\nconst setRequestStatus = (status: boolean) => ({type: \"ASSISTANCE/SET_REQUEST_STATUS\", status} as const)\r\nconst setErrorMessage = (message: string) => ({type: \"ASSISTANCE/SET_ERROR_MESSAGE\", message} as const)\r\nconst setLoading = (loading: boolean) => ({type: \"ASSISTANCE/SET_LOADING\", loading} as const)\r\n\r\n// thunks\r\nexport const setNewPassword = (password: string, token: string) => (dispatch: Dispatch) => {\r\n    dispatch(setLoading(true))\r\n    assistanceApi.sendNewPassword(password, token)\r\n    .then(res => {\r\n        console.log(res.data.info)\r\n        dispatch(setRequestStatus(true))\r\n    })\r\n    .then(res => dispatch(setRequestStatus(false)))\r\n    .catch(e => {\r\n        const errorMessage = e.response?.data?.error || \"Unknown error!\"\r\n        dispatch(setErrorMessage(errorMessage))\r\n    })\r\n    .finally(() => {\r\n        dispatch(setLoading(false))\r\n    })\r\n}\r\n\r\n// types\r\nexport type AssistanceStateType = typeof initialstate\r\n\r\nexport type AssistanceActionType = ReturnType<typeof setRequestStatus>\r\n    | ReturnType<typeof setErrorMessage>\r\n    | ReturnType<typeof setLoading>","import { Assistance } from './Assistance'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useParams, Redirect } from 'react-router-dom'\r\nimport { AssistanceStateType, setNewPassword } from '../a2-BLL/assistance-reducer'\r\nimport { AppStoreType } from '../../../main/m2-BLL/store'\r\nimport { Path } from '../../../main/m1-UI/Routes'\r\n\r\nexport const AssistanceContainer: React.FC = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const assistance = useSelector<AppStoreType, AssistanceStateType>(state => state.assistance)\r\n    const [password, setPassword] = useState('')\r\n\r\n    const { token } = useParams<{token: string}>()\r\n\r\n\r\n    const sendPassword = () => {\r\n        dispatch(setNewPassword(password, token))\r\n    }\r\n\r\n    if(assistance.requestStatus) return <Redirect to={Path.SIGN_IN_PATH}/>\r\n\r\n    return (\r\n        assistance.loading \r\n\r\n        ? <h1> Loading... </h1>\r\n\r\n        : <Assistance\r\n            value={password}\r\n            onChangeText={setPassword}\r\n            sendNewPassword={sendPassword}\r\n            error={assistance.errorMessage} />\r\n    )\r\n}","import React from \"react\";\r\nimport s from './Table.module.css';\r\n\r\nexport type HeaderOptionType = {\r\n    headerTitle: string,\r\n    link?: string,\r\n    onClick?: () => void,\r\n}\r\n\r\ntype TableTypeProps = {\r\n    tableHeaders: Array<HeaderOptionType>,\r\n    tableBody?: React.ReactNode;\r\n}\r\n\r\nexport const Table = ({tableHeaders, tableBody}: TableTypeProps) => {\r\n    //JSX for headers\r\n    const headersJSX = tableHeaders.map(header => {\r\n        return (\r\n            <th key={header.headerTitle}>{header.headerTitle} <span className={s.link}\r\n                                                                    onClick={header.onClick}>{header.link}</span></th>\r\n        );\r\n    });\r\n\r\n\r\n    return (\r\n        <>\r\n            <table className={s.table}>\r\n                <thead>\r\n                <tr>\r\n                    {headersJSX}\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {tableBody}\r\n                {/*{bodyTableJSX}*/}\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    );\r\n};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    // baseURL: \"http://localhost:7542/2.0/\",\r\n});\r\n\r\nexport  type ResponseType<D = {}> = {\r\n    cardPacks: D,\r\n    cardPacksTotalCount: number,\r\n    maxCardsCount: number,\r\n    minCardsCount: number,\r\n    page: number,\r\n    pageCount: number,\r\n    token: string,\r\n    tokenDeathTime: number,\r\n}\r\n\r\nexport type CardPack = {\r\n    cardsCount: number,\r\n    created: string,\r\n    grade: number,\r\n    more_id: string,\r\n    name: string,\r\n    path: string,\r\n    private: boolean,\r\n    rating: number,\r\n    shots: number,\r\n    type: string,\r\n    updated: string,\r\n    user_id: string,\r\n    user_name: string,\r\n    __v: number,\r\n    _id: string\r\n}\r\n\r\n\r\nexport const PacksListApi = {\r\n    getCardsPacks(page?: number, pageCount?: number, packName?: string, min?: number, max?: number, user_id?: string, sortPacks?: string) {\r\n        return instance.get<ResponseType<Array<CardPack>>>('cards/pack/', {\r\n            params: {\r\n                page,\r\n                pageCount,\r\n                packName,\r\n                min,\r\n                max,\r\n                user_id,\r\n                sortPacks\r\n            }\r\n        });\r\n    },\r\n\r\n    addNewCardPack(payload: { name: string, user_name?: string }) {\r\n        return instance.post(`cards/pack/`, {cardsPack: payload});\r\n    },\r\n    deleteCardPack(id: string) {\r\n        return instance.delete(`cards/pack/?id=${id}`);\r\n    },\r\n    updateCardPack(payload: { _id: string, name: string, private?: boolean }) {\r\n        return instance.put(`cards/pack/`, {cardsPack: payload});\r\n    },\r\n\r\n};","import {CardPack, PacksListApi} from \"../p3-DAL/packsListApi\";\r\nimport {Action, Dispatch} from \"redux\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\nconst initialState = {\r\n    cardPacks: [] as Array<CardPack>,\r\n    cardPacksTotalCount: 0,\r\n    maxCardsCount: 0,\r\n    minCardsCount: 0,\r\n    page: 1,\r\n    pageCount: 6,\r\n    isFetch: false,\r\n    errorMessage: '',\r\n    myPacks: false,\r\n};\r\n\r\ntype ActionTypes =\r\n    SetPacksActionType\r\n    | SetPacksTotalCountActionType\r\n    | SetPageCountActionType\r\n    | SetPageActionType\r\n    | SetPreloaderActionType\r\n    | SortByNameCardPackActionType\r\n    | SetMaxCardsCountActionType\r\n    | SetMinCardsCountActionType\r\n    | SetMyPacksActionType\r\n\r\n\r\ntype PacksListStateType = typeof initialState;\r\n\r\nexport type ThunkType<TActions extends Action> = ThunkAction<Promise<void>,\r\n    AppStoreType,\r\n    unknown,\r\n    TActions>\r\n\r\nexport const packsListReducer = (state: PacksListStateType = initialState, action: ActionTypes): PacksListStateType => {\r\n    switch (action.type) {\r\n        case \"PACKS/SET_MY_PACKS\": {\r\n            return {...state, myPacks: action.status};\r\n        }\r\n        case \"PACKS/SET_MAX_CARDS_COUNT\": {\r\n            return {...state, maxCardsCount: action.max};\r\n        }\r\n        case \"PACKS/SET_MIN_CARDS_COUNT\": {\r\n            return {...state, minCardsCount: action.min};\r\n        }\r\n\r\n        case \"PACKS/SORT_BY_NAME_PACK\": {\r\n            return {\r\n                ...state, cardPacks: state.cardPacks.sort((a, b) => a.name.localeCompare(b.name))\r\n            };\r\n        }\r\n        case \"PACKS/PRELOADER\": {\r\n            return {...state, isFetch: action.isFetch};\r\n        }\r\n\r\n        case \"PACKS/SET_PAGE\": {\r\n            return {...state, page: action.page};\r\n        }\r\n        case \"PACKS/SET_PAGE_COUNT\": {\r\n            return {...state, pageCount: action.count};\r\n        }\r\n        case \"PACKS/SET_PACKS_TOTAL_COUNT\": {\r\n            return {...state, cardPacksTotalCount: action.totalCount};\r\n        }\r\n        case \"PACKS/SET_PACKS\": {\r\n            return {...state, cardPacks: action.packs};\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype SetPacksActionType = ReturnType<typeof setPacks>\r\ntype SetPacksTotalCountActionType = ReturnType<typeof setPacksTotalCount>\r\ntype SetPageCountActionType = ReturnType<typeof setPageCount>\r\ntype SetPageActionType = ReturnType<typeof setPage>\r\ntype SetPreloaderActionType = ReturnType<typeof setPreloader>\r\ntype SortByNameCardPackActionType = ReturnType<typeof sortByNameCardPack>\r\ntype SetMaxCardsCountActionType = ReturnType<typeof setMaxCardsCount>\r\ntype SetMinCardsCountActionType = ReturnType<typeof setMinCardsCount>\r\ntype SetMyPacksActionType = ReturnType<typeof setMyPacks>\r\n\r\n\r\n//action\r\nconst setPacks = (packs: Array<CardPack>) => ({type: 'PACKS/SET_PACKS', packs} as const);\r\nconst setPacksTotalCount = (totalCount: number) => ({type: 'PACKS/SET_PACKS_TOTAL_COUNT', totalCount} as const);\r\nexport const setPageCount = (count: number) => ({type: 'PACKS/SET_PAGE_COUNT', count} as const);\r\nexport const setPage = (page: number) => ({type: 'PACKS/SET_PAGE', page} as const);\r\nconst setError = (errorMessage: string) => ({type: \"PACKS/SET_ERROR\", errorMessage} as const);\r\nconst setMinCardsCount = (min: number) => ({type: \"PACKS/SET_MIN_CARDS_COUNT\", min} as const);\r\nconst setMaxCardsCount = (max: number) => ({type: \"PACKS/SET_MAX_CARDS_COUNT\", max} as const);\r\nconst setMyPacks = (status: boolean) => ({type: \"PACKS/SET_MY_PACKS\", status} as const);\r\n//set query\r\nexport const setPreloader = (isFetch: boolean) => ({type: 'PACKS/PRELOADER', isFetch} as const);\r\n//sortByNameCardPack\r\nexport const sortByNameCardPack = () => ({type: 'PACKS/SORT_BY_NAME_PACK'} as const);\r\n\r\n\r\n// main thunk\r\nexport const getPacksCards = (packName?: string, sortPacks?: string) => async (dispatch: Dispatch<ActionTypes>, getState: () => AppStoreType) => {\r\n    const {pageCount, page, minCardsCount, maxCardsCount, myPacks} = getState().packsList;\r\n    let user = getState().signIn.user;\r\n    let userId;\r\n    if (user && myPacks) {\r\n        userId = user._id;\r\n    }\r\n    try {\r\n        dispatch(setPreloader(true));\r\n        const response = await PacksListApi.getCardsPacks(page, pageCount, packName, minCardsCount, maxCardsCount, userId, sortPacks);\r\n        dispatch(setPacks(response.data.cardPacks));\r\n        dispatch(setPacksTotalCount(response.data.cardPacksTotalCount));\r\n        dispatch(setPageCount(response.data.pageCount));\r\n        dispatch(setPage(response.data.page));\r\n    } catch (err) {\r\n        console.log('error :(', err);\r\n    } finally {\r\n        dispatch(setPreloader(false));\r\n    }\r\n};\r\n\r\n\r\n//Function CRUD\r\n//Create new pack card\r\nexport const addNewPackCard = (payload: { name: string, user_name?: string }): ThunkType<SetPreloaderActionType | SetPageActionType> => async (dispatch) => {\r\n    try {\r\n        dispatch(setPreloader(true));\r\n        await PacksListApi.addNewCardPack(payload);\r\n        await dispatch(getPacksCards());\r\n        dispatch(setPage(1));\r\n    } catch (err) {\r\n        console.log('error :(', err);\r\n    } finally {\r\n        dispatch(setPreloader(false));\r\n    }\r\n};\r\n\r\n//Delete  pack card by ID\r\nexport const deletePackCardById = (id: string): ThunkType<SetPreloaderActionType | SetPageActionType> => async (dispatch) => {\r\n    try {\r\n        dispatch(setPreloader(true));\r\n        await PacksListApi.deleteCardPack(id);\r\n        await dispatch(getPacksCards());\r\n        dispatch(setPage(1));\r\n\r\n    } catch (err) {\r\n        console.log('error :(', err);\r\n    } finally {\r\n        dispatch(setPreloader(false));\r\n    }\r\n};\r\n\r\n\r\nexport const updatePackCard = (payload: { _id: string, name: string, private?: boolean }): ThunkType<SetPreloaderActionType | SetPacksActionType | SetPageActionType> => async (dispatch) => {\r\n    try {\r\n        dispatch(setPreloader(true));\r\n        await PacksListApi.updateCardPack(payload);\r\n        await dispatch(getPacksCards());\r\n        dispatch(setPage(1));\r\n\r\n    } catch (err) {\r\n        console.log('error :(', err);\r\n    } finally {\r\n        dispatch(setPreloader(false));\r\n    }\r\n};\r\n\r\nexport const getMinCountPackCard = (min: number): ThunkType<SetPreloaderActionType | SetMinCardsCountActionType | SetPageActionType> => async (dispatch) => {\r\n    try {\r\n        dispatch(setPreloader(true));\r\n        dispatch(setMinCardsCount(min));\r\n        await dispatch(getPacksCards());\r\n        dispatch(setPage(1));\r\n    } catch (err) {\r\n        console.log('error :(', err);\r\n    } finally {\r\n        dispatch(setPreloader(false));\r\n    }\r\n};\r\n\r\nexport const getMaxCountPackCard = (max: number): ThunkType<SetPreloaderActionType | SetMaxCardsCountActionType | SetPageActionType> => async (dispatch) => {\r\n    try {\r\n        dispatch(setPreloader(true));\r\n        dispatch(setMaxCardsCount(max));\r\n        await dispatch(getPacksCards());\r\n        dispatch(setPage(1));\r\n\r\n    } catch (err) {\r\n        console.log('error :(', err);\r\n    } finally {\r\n        dispatch(setPreloader(false));\r\n    }\r\n};\r\n\r\n\r\nexport const getMyPacksCards = (status: boolean) => (dispatch: Dispatch<SetMyPacksActionType>) => {\r\n    dispatch(setMyPacks(status));\r\n};\r\n\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport s from './Pagination.module.css';\r\n\r\ntype PaginationTypes = {\r\n    totalCount: number,\r\n    count: number,\r\n    page: number,\r\n    onChangePage: (page: number) => void\r\n    acc?: number\r\n}\r\n\r\nexport const Pagination = ({totalCount, count, page, onChangePage, acc = 10}: PaginationTypes) => {\r\n    const [visPre, setVisPre] = useState<boolean>(false);\r\n    const [visNext, setVisNext] = useState<boolean>(false);\r\n\r\n    let pageNumbers: number = Math.ceil(totalCount / count);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pageNumbers; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const previosPage = page !== 1 ? page - 1 : 1;\r\n    const nextPage = page !== pageNumbers ? page + 1 : pageNumbers;\r\n    let pageNextAcc = (page + acc) > pageNumbers ? pageNumbers : page + acc;\r\n    let pagePreviosAcc = (page - acc) < 1 ? 1 : page - acc;\r\n\r\n    useEffect(() => {\r\n        previosPage === page ? setVisPre(true) : setVisPre(false);\r\n        nextPage === page ? setVisNext(true) : setVisNext(false);\r\n    }, [page, nextPage, previosPage]);\r\n\r\n    if (isNaN(pageNumbers) || totalCount === 0) {\r\n        return <div></div>;\r\n    }\r\n    return (\r\n        <div className={s.paginationWrapper}>\r\n            <ul className={s.pagination}>\r\n                <li>\r\n                    <button title={`Page Previos`} className={`${visPre && s.visible}`} onClick={() => {\r\n                        onChangePage(page - 1);\r\n                    }}>❮\r\n                    </button>\r\n                </li>\r\n                <li>\r\n                    <button title={`Page 1`} className={`${visPre && s.visible}`} onClick={() => {\r\n                        onChangePage(1);\r\n                    }}>1\r\n                    </button>\r\n                </li>\r\n                <li><span title={`Page ${page - acc}`} onClick={() => {\r\n                    onChangePage(pagePreviosAcc);\r\n                }} className={`${visPre && s.visible}`}>...</span></li>\r\n                <li>\r\n                    <button className={`${visPre && s.visible}`} onClick={() => {\r\n                        onChangePage(previosPage);\r\n                    }} title={`Page ${pageNumbers}`}>{previosPage}</button>\r\n                </li>\r\n                <li>\r\n                    <button title={`Page ${page}`} className={s.active}>{page}</button>\r\n                </li>\r\n                <li>\r\n                    <button className={`${visNext && s.visible}`} onClick={() => {\r\n                        onChangePage(nextPage);\r\n                    }} title={`Page ${nextPage}`}>{nextPage}</button>\r\n                </li>\r\n\r\n                <li><span title={`Page ${page + acc}`} onClick={() => {\r\n                    onChangePage(pageNextAcc);\r\n                }} className={`${visNext && s.visible}`}>...</span></li>\r\n                <li>\r\n                    <button className={`${visNext && s.visible}`} onClick={() => {\r\n                        onChangePage(pageNumbers);\r\n                    }} title={`Page ${pageNumbers}`}>{pageNumbers}</button>\r\n                </li>\r\n                <li>\r\n                    <button className={`${visNext && s.visible}`} onClick={() => {\r\n                        onChangePage(page + 1);\r\n                    }} title={'page Next'}>❯\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n};","import React from \"react\";\r\n\r\ntype MySelectTypeProps = {\r\n    options: Array<number | string>\r\n    onChangeCountCards: (count: string) => void\r\n}\r\n\r\nexport const MySelect = ({options, onChangeCountCards}: MySelectTypeProps) => {\r\n    const optionElement = options.map(option => {\r\n        return (\r\n            <option key={option.valueOf()} value={option}>{option}</option>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <select onChange={(e) => {\r\n            onChangeCountCards(e.currentTarget.value);\r\n        }}>\r\n            {optionElement}\r\n        </select>\r\n    );\r\n};","import { NavLink } from 'react-router-dom'\r\nimport s from './CustomNavlink.module.css'\r\n\r\ntype PropsType = {\r\n    to: string\r\n    body: string\r\n}\r\n\r\nexport const CustomNavlink: React.FC<PropsType> = ({\r\n    to, body\r\n}) => {\r\n    return (\r\n        <>\r\n            <NavLink \r\n                activeClassName={s.active}\r\n                to={to}\r\n                className={s.a} >\r\n            {body}\r\n            </NavLink>\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport s from './Modal.module.css';\r\n\r\ntype ModalTypeProps = {\r\n    show: boolean,\r\n    height?: number,\r\n    width?: number,\r\n    backgroundOnClick: () => void\r\n}\r\n\r\nexport const Modal: React.FC<ModalTypeProps> = (\r\n    {\r\n        show,\r\n        height = 200,\r\n        width = 300,\r\n        backgroundOnClick = () => {\r\n        },\r\n        children,\r\n    }) => {\r\n\r\n    const top = `calc(50vh - ${height / 2}px)`;\r\n    const left = `calc(50vw - ${width / 2}px)`;\r\n\r\n    if (!show) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={s.modalBackground} onClick={backgroundOnClick}/>\r\n            <div className={s.modalWindow} style={{top, left, width, height}} // onClick={modalOnClick}\r\n            >\r\n                {children}\r\n            </div>\r\n        </>\r\n    );\r\n};","import React, {useState} from \"react\";\r\nimport Button from \"../../../../../common/c2-Button/Button\";\r\nimport {Modal} from \"../../../../f8-modals/Modal\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from './DeleteCardPack.module.css';\r\nimport {deletePackCardById} from \"../../../p2-BLL/packsList-reducer\";\r\n\r\ntype AddItemModalContainerTypeProps = {\r\n    isButtonDisabled?: boolean\r\n    namePack?: string,\r\n    deleteId?: string\r\n}\r\n\r\nexport const DeleteCardPackModalContainer = (\r\n    {\r\n        isButtonDisabled,\r\n        namePack = 'Oops nothing',\r\n        deleteId = ''\r\n    }: AddItemModalContainerTypeProps) => {\r\n\r\n    const [show, setShow] = useState(false);\r\n    //Show modal\r\n    const clickHandlerShowModal = () => {\r\n        setShow(true);\r\n    };\r\n    const clickHandlerHiddenModal = () => {\r\n        setShow(false);\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const clickHandlerDeleteCardPackById = (id: string) => {\r\n        if (id !== '') {\r\n            dispatch(deletePackCardById(id));\r\n            setShow(false);\r\n        }\r\n\r\n    };\r\n    return (\r\n        <div className={s.wrapContainer}>\r\n            <Button disabled={isButtonDisabled} onClick={clickHandlerShowModal} red\r\n                    title={\"Show modal for delete\"}> delete</Button>\r\n            <Modal show={show} backgroundOnClick={clickHandlerHiddenModal} width={413} height={240}>\r\n                <h1>Delete CardPack</h1>\r\n                Are you sure you want delete: <span>{namePack}</span>\r\n                <div>\r\n                    <Button title={\"After press i don't know :(\"} disabled={isButtonDisabled} onClick={() => {\r\n                        clickHandlerDeleteCardPackById(deleteId);\r\n                    }} red>Yes</Button>\r\n                    <Button title={\"Yes, yes, yes :)\"} disabled={isButtonDisabled}\r\n                            onClick={clickHandlerHiddenModal}> No</Button>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport Button from \"../../../../../common/c2-Button/Button\";\r\nimport {Modal} from \"../../../../f8-modals/Modal\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from './EditCardPack.module.css';\r\nimport {InputText} from \"../../../../../common/c1-Input/InputText\";\r\nimport {updatePackCard} from \"../../../p2-BLL/packsList-reducer\";\r\n\r\ntype AddItemModalContainerTypeProps = {\r\n    isButtonDisabled?: boolean,\r\n    oldName?: string,\r\n    packId?: string,\r\n}\r\n\r\nexport const EditCardPackModalContainer = (\r\n    {\r\n        isButtonDisabled,\r\n        oldName = '',\r\n        packId = '',\r\n    }: AddItemModalContainerTypeProps) => {\r\n\r\n    const [show, setShow] = useState(false);\r\n    //Show modal\r\n    const clickHandlerShowModal = () => {\r\n        setShow(true);\r\n    };\r\n    const clickHandlerHiddenModal = () => {\r\n        setShow(false);\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setChangeNameCardPack(oldName);\r\n    }, [oldName]);\r\n\r\n    const [changeNameCardPack, setChangeNameCardPack] = useState<string>('');\r\n\r\n    const onChangeHandlerChangeNameCardPack = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setChangeNameCardPack(e.currentTarget.value);\r\n    };\r\n\r\n    const clickHandlerEditPackById = (_id: string) => {\r\n        if (packId !== '') {\r\n            dispatch(updatePackCard({_id, name: changeNameCardPack}));\r\n            setShow(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={s.wrapContainer}>\r\n            <Button disabled={isButtonDisabled} onClick={clickHandlerShowModal}\r\n                    title={\"Show modal for edit\"}> edit </Button>\r\n            <Modal show={show} backgroundOnClick={clickHandlerHiddenModal} width={413} height={240}>\r\n                <h1>Edit CardPack name</h1>\r\n                <InputText autoFocus onChange={onChangeHandlerChangeNameCardPack} value={changeNameCardPack}\r\n                           label={\"Edit PackName\"}/>\r\n                <div>\r\n                    <Button disabled={isButtonDisabled} onClick={() => {\r\n                        clickHandlerEditPackById(packId);\r\n                    }} title={\"Update or not update?...\"}>Update</Button>\r\n                    <Button title={\"Maybe, not update...\"} disabled={isButtonDisabled}\r\n                            onClick={clickHandlerHiddenModal}> No</Button>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};","import React from \"react\";\r\nimport Button from \"../../../common/c2-Button/Button\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {CardPack} from \"../p3-DAL/packsListApi\";\r\nimport {CustomNavlink} from \"../../../common/c4-Navlink/CustomNavlink\";\r\nimport {DeleteCardPackModalContainer} from \"./components/modalsContainers/DeleteCardPackModalContainer\";\r\nimport {EditCardPackModalContainer} from \"./components/modalsContainers/EditCardPackModalContainer\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\ntype TableBodyTypeProps = {\r\n    cardPacks: Array<CardPack>\r\n    myId: string\r\n}\r\n\r\nexport const TableBodyForCardPacks = ({cardPacks, myId}: TableBodyTypeProps) => {\r\n    const isFetching = useSelector<AppStoreType, boolean>(state => state.packsList.isFetch);\r\n\r\n    const onClickHandlerLearnTest = (id: string) => {\r\n        return <Redirect to={`/learn/${id}`}/>;\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                cardPacks.map(table => {\r\n\r\n                    const jsDate = new Date(Date.parse(table.updated));\r\n                    const lastUpdate = `${jsDate.getDate() > 9 ? jsDate.getDate() : `0${jsDate.getDate()}`}-${jsDate.getMonth() + 1 > 9 ? jsDate.getMonth() + 1 : `0${jsDate.getMonth() + 1}`}-${jsDate.getFullYear()}  ${jsDate.getHours() > 9 ? jsDate.getHours() : `0${jsDate.getHours()}`}:${jsDate.getMinutes() > 9 ? jsDate.getMinutes() : `0${jsDate.getMinutes()}`}`;\r\n\r\n                    return (\r\n                        <tr key={table._id}>\r\n                            <th style={{color: \"gray\", cursor: \"default\"}}>\r\n                                {(table.cardsCount > 0) || (myId === table.user_id) ?\r\n                                    <CustomNavlink to={`/cards/${table._id}`} body={table.name}/> : table.name}\r\n                            </th>\r\n                            <td>{table.cardsCount}</td>\r\n                            <td>{lastUpdate}</td>\r\n                            <td>\r\n                                {table.user_name}\r\n                            </td>\r\n                            <td>\r\n                                {myId === table.user_id &&\r\n                                <DeleteCardPackModalContainer deleteId={table._id} namePack={table.name}\r\n                                                              isButtonDisabled={isFetching}/>}\r\n                                {myId === table.user_id &&\r\n                                <EditCardPackModalContainer oldName={table.name} packId={table._id}\r\n                                                            isButtonDisabled={isFetching}/>}\r\n                                <Link to={`/learn/${table._id}&${table.name}`}> <Button title={\"Ready study? OK :)\"}\r\n                                                                                        green\r\n                                                                                        disabled={table.cardsCount < 1 ? true : isFetching}\r\n                                                                                        onClick={() => {\r\n                                                                                            onClickHandlerLearnTest(table._id);\r\n                                                                                        }}>learn</Button> </Link>\r\n                            </td>\r\n                        </tr>\r\n                    );\r\n                })}\r\n        </>\r\n    );\r\n};\r\n\r\n","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes} from 'react';\r\nimport s from './ToggleCheckBox.module.css';\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n    onChangeChecked?: (checked: boolean) => void\r\n    spanClassName?: string\r\n    checked?: boolean\r\n}\r\n\r\nexport const ToggleCheckBox: React.FC<SuperCheckboxPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeChecked,\r\n        className, spanClassName,\r\n        children, checked,// в эту переменную попадёт текст, типизировать не нужно так как он затипизирован в React.FC\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n\r\n        onChange && onChange(e);\r\n        onChangeChecked && onChangeChecked(e.currentTarget.checked);\r\n        // && onChangeChecked(e.currentTarget.checked)\r\n        // сделайте так чтоб работал onChange и onChangeChecked\r\n    };\r\n\r\n    const finalInputClassName = `${s.superInput} ${className ? className : ''}`;\r\n    return (\r\n        <label className={s.checkbox}>\r\n            <input\r\n                type={'checkbox'}\r\n                onChange={onChangeCallback}\r\n                className={finalInputClassName}\r\n\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (checked например там внутри)\r\n            />\r\n            <span className={!checked ? s.checkboxSwitch : s.checkboxSwitchChecked} {...restProps}/>\r\n            {children && <span className={s.spanClassName}>{children}</span>}\r\n        </label> // благодаря label нажатие на спан передастся в инпут\r\n    );\r\n};\r\n\r\n","import React, {useState} from 'react';\r\nimport s from './CustomRange.module.css';\r\n\r\n\r\ntype SuperDoubleRangePropsType = {\r\n    width?: number,\r\n    getMin: (min: number) => void\r\n    getMax: (max: number) => void\r\n}\r\n\r\nconst CustomRange: React.FC<SuperDoubleRangePropsType> = ({getMin, getMax, width = 100}) => {\r\n    const [min, setMin] = useState(0);\r\n    const [max, setMax] = useState(width - 10);\r\n    const [minPoint, setMinPoint] = useState<number>(0);\r\n    const [edit, setEdit] = useState<boolean>(false);\r\n    const [editMin, setEditMin] = useState<boolean>(false);\r\n    const [maxVal, setMaxVal] = useState<number>(width);\r\n    const [minVal, setMinVal] = useState<number>(0);\r\n\r\n    const [minEnabled, setMinEnabled] = useState<boolean>(false);\r\n    const [maxEnabled, setMaxEnabled] = useState<boolean>(false);\r\n\r\n\r\n    const mouseMoveHandler = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        if (e.currentTarget.id === 'min') {\r\n            if ((e.clientX - minPoint) < max && (e.clientX - minPoint > 0)) {\r\n                if (minEnabled) {\r\n                    setMin((e.clientX - 6) - minPoint);\r\n                    setMinVal((e.clientX) - minPoint);\r\n                }\r\n            }\r\n        }\r\n        if (e.currentTarget.id === 'max') {\r\n            if (((e.clientX - minPoint) > min + 5) && ((e.clientX - minPoint) < width)) {\r\n                if (maxEnabled) {\r\n                    setMax((e.clientX - 6) - minPoint);\r\n                    setMaxVal((e.clientX) - minPoint);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    const doubleClickHandler = () => {\r\n        setEdit(true);\r\n    };\r\n\r\n    const mouseDownHandler = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        e.currentTarget.id === 'min' && setMinEnabled(true);\r\n        e.currentTarget.id === 'max' && setMaxEnabled(true);\r\n    };\r\n    const mouseUpHandler = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        if (e.currentTarget.id === 'min') {\r\n            setMinEnabled(false);\r\n            getMin(minVal);\r\n        }\r\n        if (e.currentTarget.id === 'max') {\r\n            setMaxEnabled(false);\r\n            getMax(maxVal);\r\n        }\r\n    };\r\n\r\n    const setValueMin = () => {\r\n        setEditMin(false);\r\n        setMin(minVal);\r\n    };\r\n    const setValueMax = () => {\r\n        setEdit(false);\r\n        setMax(maxVal);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={s.slider} style={{width}} onMouseMove={(event) => {\r\n                setMinPoint(event.currentTarget.offsetLeft);\r\n            }}>\r\n                <div className={s.min} style={{width: min + 5}}>\r\n                    <div id={'min'} className={s.minDrag} style={{left: min}}\r\n                         onMouseMove={mouseMoveHandler}\r\n                         onMouseUp={mouseUpHandler}\r\n                         onMouseDown={mouseDownHandler}>\r\n                        <div onDoubleClick={() => {\r\n                            setEditMin(true);\r\n                        }} className={s.textMin}>  {editMin ?\r\n                            <input type={\"number\"} value={minVal} onChange={(e) => {\r\n\r\n                                if ((+e.currentTarget.value < max - 10) && (+e.currentTarget.value >= 0\r\n                                )) {\r\n                                    setMinVal(+e.currentTarget.value);\r\n                                }\r\n                            }} autoFocus onBlur={setValueMin} style={{width: '40px', border: 'none'}}\r\n                                   maxLength={2}/> : minVal} </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={s.max} style={{width: max + 10}}>\r\n                    <div id={'max'} style={{left: max}}\r\n                         onMouseMove={mouseMoveHandler} className={s.maxDrag}\r\n                         onMouseDown={mouseDownHandler} onMouseUp={mouseUpHandler}>\r\n\r\n\r\n                        <div onDoubleClick={doubleClickHandler} className={s.textMax}>{edit ?\r\n                            <input type={\"number\"} value={maxVal} onChange={(e) => {\r\n                                if ((+e.currentTarget.value < width) && (+e.currentTarget.value > min + 5\r\n                                )) {\r\n                                    setMaxVal(+e.currentTarget.value);\r\n                                }\r\n                            }} autoFocus onBlur={setValueMax} style={{width: '40px', border: 'none'}}\r\n                                   maxLength={2}/> : maxVal} </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CustomRange;\r\n","class Test {\r\n    private name: string;\r\n    public constructor(nameCardsPack: string) {\r\n        this.name = nameCardsPack;\r\n    }\r\n}\r\n\r\nconst testData = [\r\n    new Test(\"courseHtml\"),\r\n    new Test(\"courseJs\"),\r\n    new Test(\"courseVue\"),\r\n    new Test(\"English cards\"),\r\n    new Test(\"Museum cards\"),\r\n    new Test(\"How City by Foto\"),\r\n    new Test(\"Now stop and begin\"),\r\n    new Test(\"Paris cards\"),\r\n    new Test(\"Учим математику\"),\r\n    new Test(\"Учим русский\"),\r\n    new Test(\"Учим историю\"),\r\n    new Test(\"Some cards\"),\r\n    new Test(\"И все такое\"),\r\n\r\n];\r\n\r\nexport function getRandomTest(int: number) {\r\n    return Math.floor(Math.random() * int);\r\n}\r\n\r\nexport const setTestData = () => {\r\n    const rnd = getRandomTest(testData.length);\r\n    const rndName = testData[rnd];\r\n    return rndName;\r\n};\r\n","import React from 'react';\r\nimport {Redirect, Route} from 'react-router-dom';\r\nimport {SignInContainer} from '../../features/f1-Sign-in/s1-UI/SignInContainer';\r\nimport {SignUpContainer} from '../../features/f2-Registration/r1-UI/SignUpContainer';\r\nimport {Profile} from '../../features/f5-Profile/p1-UI/Profile';\r\nimport commonStyle from '../../common/CommonStyle.module.css';\r\nimport {ForgotContainer} from '../../features/f3-Forgot/f1-UI/ForgotContainer';\r\nimport {AssistanceContainer} from '../../features/f4-Password-assistance/a1-UI/AssistanceContainer';\r\nimport {PacksList} from \"../../features/f6-PacksList/p1-UI/PacksList\";\r\nimport {CardsContainer} from \"../../features/f7-Cards/c1-UI/CardsContainer\";\r\nimport {LearnContainer} from \"../../features/f9-Learn/l1-UI/LearnContainer\";\r\n\r\n\r\n// paths\r\nexport enum Path {\r\n    SIGN_IN_PATH = '/sign-in',\r\n    SIGN_UP_PATH = '/sign-up',\r\n    FORGOT_PATH = '/forgot',\r\n    PASSWORD_ASSISTANCE_PATH = '/assistance/:token',\r\n    PROFILE_PATH = '/profile',\r\n    LERGNOM_PACKS_LIST_PATH = '/packs-list',\r\n    CARDS_LIST_PATH = '/cards/:cardPackId',\r\n    LERGNOM_LEARN_PATH = '/learn/:cardPackId&:cardPackName',\r\n}\r\n\r\nconst Routes: React.FC = () => {\r\n    return (\r\n        <div className={commonStyle.container}>\r\n            <Route exact path={'/'} render={() => <Redirect to={Path.SIGN_IN_PATH}/>}/>\r\n\r\n            <Route path={Path.SIGN_IN_PATH} render={() => <SignInContainer/>}/>\r\n            <Route path={Path.SIGN_UP_PATH} render={() => <SignUpContainer/>}/>\r\n            <Route path={Path.FORGOT_PATH} render={() => <ForgotContainer/>}/>\r\n            <Route path={Path.PASSWORD_ASSISTANCE_PATH} render={() => <AssistanceContainer/>}/>\r\n            <Route path={Path.PROFILE_PATH} render={() => <Profile/>}/>\r\n            <Route path={Path.LERGNOM_PACKS_LIST_PATH} render={() => <PacksList/>}/>\r\n            <Route path={Path.CARDS_LIST_PATH} render={() => <CardsContainer/>}/>\r\n            <Route path={Path.LERGNOM_LEARN_PATH} render={() => <LearnContainer/>}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n\r\n// types\r\nexport type PathsType = typeof Path","import React, {useEffect, useState} from \"react\";\r\nimport Button from \"../../../../../common/c2-Button/Button\";\r\nimport {Modal} from \"../../../../f8-modals/Modal\";\r\nimport {InputText} from \"../../../../../common/c1-Input/InputText\";\r\nimport {addNewPackCard} from \"../../../p2-BLL/packsList-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setTestData} from \"../../../p4-Test/test\";\r\n\r\ntype AddItemModalContainerTypeProps = {\r\n    isButtonDisabled?: boolean\r\n    buttonTitle?: string\r\n    title?:string\r\n}\r\n\r\nexport const AddCardPackModalContainer = ({\r\n                                              isButtonDisabled,\r\n                                              buttonTitle = 'button',title\r\n                                          }: AddItemModalContainerTypeProps) => {\r\n    const [packName, setPackName] = useState<string>('');\r\n    const [show, setShow] = useState(false);\r\n\r\n    //For  test field\r\n    useEffect(() => {\r\n        const test = setTestData();\r\n        setPackName(test['name']);\r\n    }, []);\r\n\r\n    //Show modal\r\n    const clickHandlerShowModal = () => {\r\n        setShow(true);\r\n    };\r\n    const clickHandlerHiddenModal = () => {\r\n        setShow(false);\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    //Added new pack and new query Cards Pack\r\n    const clickHandlerAddNewPack = () => {\r\n        setShow(false);\r\n        dispatch(addNewPackCard({name: packName, user_name: 'name'}));\r\n        //Add Test data\r\n        const test = setTestData();\r\n        setPackName(test['name']);\r\n        // setPackName('');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <Button title={title} disabled={isButtonDisabled}\r\n                        onClick={clickHandlerShowModal}> {buttonTitle}</Button>\r\n            </div>\r\n\r\n            <Modal show={show} backgroundOnClick={clickHandlerHiddenModal} width={413} height={240}>\r\n                <h1>Add new Pack</h1>\r\n                <InputText value={packName} onChangeText={setPackName} label={\"Add new Pack Name\"}/>\r\n                <Button title={\"Add new CardPack\"} disabled={isButtonDisabled} onClick={clickHandlerAddNewPack}> + New\r\n                    Pack</Button>\r\n            </Modal>\r\n        </>\r\n    );\r\n};","import React, {useEffect, useState} from \"react\";\r\nimport {HeaderOptionType, Table} from \"../../../common/c6-Table/Table\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {\r\n    getMaxCountPackCard,\r\n    getMinCountPackCard,\r\n    getMyPacksCards,\r\n    getPacksCards,\r\n    setPage,\r\n    setPageCount\r\n} from \"../p2-BLL/packsList-reducer\";\r\nimport {Pagination} from \"./components/Pagination/Pagination\";\r\nimport s from './PacksList.module.css';\r\nimport {MySelect} from \"./components/Select/MySelect\";\r\nimport {InputText} from \"../../../common/c1-Input/InputText\";\r\nimport {TableBodyForCardPacks} from \"./TableBodyForCardPacks\";\r\nimport {Preloader} from \"../../../common/c5-Loader/Preloader\";\r\nimport {ToggleCheckBox} from \"./components/CheckBoxToggle/ToggleCheckBox\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Path} from \"../../../main/m1-UI/Routes\";\r\nimport CustomRange from \"./components/CustomRange/CustomRange\";\r\nimport {UserType} from \"../../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\nimport useDebounce from \"./hooks/Debounce\";\r\nimport {AddCardPackModalContainer} from \"./components/modalsContainers/AddCardPackModalContainer\";\r\nimport {CardPack} from \"../p3-DAL/packsListApi\";\r\n\r\nexport const PacksList = () => {\r\n    const [searchPackName, setSearchPackName] = useState<string>('');\r\n    const [sortPack, setSortPack] = useState<string>(\"\");\r\n\r\n    //for show my Packs\r\n    const myPacks = useSelector<AppStoreType, boolean>(state => state.packsList.myPacks);\r\n    //for Table Body\r\n    const cardPacks = useSelector<AppStoreType, Array<CardPack>>(state => state.packsList.cardPacks);\r\n    //for pagination\r\n    const cardPacksTotalCount = useSelector<AppStoreType, number>(state => state.packsList.cardPacksTotalCount);\r\n    const pageCount = useSelector<AppStoreType, number>(state => state.packsList.pageCount);\r\n    const page = useSelector<AppStoreType, number>(state => state.packsList.page);\r\n    //for Preloader\r\n    const isFetching = useSelector<AppStoreType, boolean>(state => state.packsList.isFetch);\r\n    //for Render\r\n    const isInitialized = useSelector<AppStoreType, boolean>(state => state.app.initialized);\r\n    const user = useSelector<AppStoreType, UserType | null>(state => state.signIn.user);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    let myId = '';\r\n    if (user) {\r\n        myId = user._id;\r\n    }\r\n\r\n    const clickHandlerForSortUpdate = () => {\r\n        sortPack === \"update\" ? setSortPack('') :\r\n            setSortPack(\"update\");\r\n    };\r\n\r\n    // Data for Header Table\r\n    const tableHeaders: Array<HeaderOptionType> = [\r\n        {headerTitle: 'Name',},\r\n        {headerTitle: \"Cards\"},\r\n        {\r\n            headerTitle: \"Last Updated\",\r\n            link: '⬇⬆',\r\n            onClick: clickHandlerForSortUpdate\r\n        },\r\n        {headerTitle: \"Created by\"},\r\n        {headerTitle: \"Actions\"}];\r\n\r\n    //Count cardsPacks into one page\r\n    const optionsForSelector = [5, 10, 15];\r\n\r\n\r\n    // useDebounce hook for delay searchPackName\r\n    const debouncedSearchPackName = useDebounce(searchPackName, 1000);\r\n    useEffect(() => {\r\n        if (debouncedSearchPackName) {\r\n            setSearchPackName(debouncedSearchPackName);\r\n        }\r\n    }, [debouncedSearchPackName]);\r\n    // Example with Lodash // const searchPaymentByLastName = useCallback(debounce((value: string) => { dispatch(getInitialPayments({lastName: value})) }, 500),[])\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getPacksCards(debouncedSearchPackName, sortPack));\r\n    }, [page, pageCount, debouncedSearchPackName, dispatch, myPacks, sortPack]);\r\n\r\n    //Change pageCount (selector options)\r\n    const clickHandlerPageCount = (count: string) => {\r\n        dispatch(setPageCount(+count));\r\n    };\r\n\r\n    const clickHandlerChangePage = (page: number) => {\r\n        dispatch(setPage(page));\r\n    };\r\n\r\n\r\n    const changeCheckedMyPacks = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        dispatch(getMyPacksCards(e.currentTarget.checked));\r\n    };\r\n\r\n    const getRangeMin = (min: number) => {\r\n        dispatch(getMinCountPackCard(min));\r\n\r\n    };\r\n    const getRangeMax = (max: number) => {\r\n        dispatch(getMaxCountPackCard(max));\r\n    };\r\n\r\n    if (!isInitialized) {\r\n        return <Preloader/>;\r\n    }\r\n    if (!user) {\r\n        return <Redirect to={Path.SIGN_IN_PATH}/>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1>Packs list</h1>\r\n            <div className={s.packsListHeaderWrapper}>\r\n                {isFetching && <Preloader/>}\r\n                <div>\r\n                    <div>\r\n                        <span style={{marginRight: \"5px\"}}>My Packs</span>\r\n                        <ToggleCheckBox title={\"Show me my packs... quickly :)\"} onChange={changeCheckedMyPacks} checked={myPacks}/>\r\n                    </div>\r\n                    <div style={{marginTop: \"5px\"}}>Number of cards <CustomRange getMin={getRangeMin}\r\n                                                                                 getMax={getRangeMax}/></div>\r\n                </div>\r\n                <div>\r\n                    <InputText value={searchPackName} onChangeText={setSearchPackName}\r\n                               label={\"Search by Pack Name   🔍\"}/>\r\n                </div>\r\n                <div><AddCardPackModalContainer buttonTitle={\"Add Pack\"} title={\"Open modal window for add new PackCard\"}/></div>\r\n            </div>\r\n            <div className={s.packListTableWrapper}>\r\n                <Table tableHeaders={tableHeaders}\r\n                       tableBody={<TableBodyForCardPacks myId={myId} cardPacks={cardPacks}/>}/>\r\n            </div>\r\n\r\n            <div className={s.packsListFooterWrapper}>\r\n                <Pagination totalCount={cardPacksTotalCount} count={pageCount} page={page}\r\n                            onChangePage={clickHandlerChangePage}/>\r\n                <div className={s.packListPageSelector}>\r\n                    Show\r\n                    <MySelect options={optionsForSelector} onChangeCountCards={clickHandlerPageCount}/>\r\n                    Cards per Page\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};","import {useEffect, useState} from 'react';\r\n\r\nexport default function useDebounce(value: string, delay: number) {\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n    useEffect(\r\n        () => {\r\n            const handler = setTimeout(() => {\r\n                setDebouncedValue(value);\r\n            }, delay);\r\n\r\n            return () => {\r\n                clearTimeout(handler);\r\n            };\r\n        },\r\n        [value, delay]\r\n    );\r\n    return debouncedValue;\r\n}","import axios from \"axios\"\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    // baseURL: \"http://localhost:7542/2.0/\",\r\n})\r\n\r\nexport const cardsApi = {\r\n    getCards(packListId: string, page?: number, pageCount?: number) {\r\n        return instance.get<ResponseType<Array<ICardType>>>(`/cards/card`, {\r\n            params: {\r\n                cardsPack_id: packListId,\r\n                page,\r\n                pageCount, // количество карточек за один запрос\r\n            }\r\n        })\r\n    },\r\n\r\n    addNewCard(payload: { cardsPack_id: string, question?: string, answer?: string }) {\r\n        return instance.post<ResponseType>(`/cards/card`, {card: payload});\r\n    },\r\n    deleteCard(id: string) {\r\n        return instance.delete(`/cards/card?id=${id}`);\r\n    },\r\n    updateCard(payload: { _id: string, question: string, answer: string }) {\r\n        return instance.put(`/cards/card`, {card: payload});\r\n    },\r\n\r\n}\r\n\r\nexport  type ResponseType<D = {}> = {\r\n    cards: Array<ICardType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    packUserId: string\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\nexport type ICardType = {\r\n    answer: string\r\n    cardsPack_id: string\r\n    comments: string\r\n    created: string\r\n    grade: number\r\n    more_id: string\r\n    question: string\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\n","import {Dispatch} from 'redux';\r\nimport {cardsApi, ICardType} from \"../c3-DAL/cardsApi\";\r\nimport {ThunkAction} from 'redux-thunk';\r\n\r\nconst initialstate = {\r\n    cardsList: [] as Array<ICardType>,\r\n    cardsPack_id: '',\r\n    cardsTotalCount: 0,\r\n    page: 1,\r\n    pageCount: 5,\r\n    loading: false,\r\n    errorMessage: '',\r\n    searchQuestion: '',\r\n    searchAnswer: '',\r\n}\r\n\r\nexport const cardsReducer = (state: CardsStateType = initialstate, action: CardsActionType): CardsStateType => {\r\n    switch (action.type) {\r\n        case \"CARDS-LIST/SET_CARDS-LIST\":\r\n            return {...state, cardsList: action.cardsList}\r\n        case \"CARDS-LIST/SET_LOADING\":\r\n            return {...state, loading: action.loading}\r\n        case \"CARDS-LIST/SET_ERROR\":\r\n            return {...state, errorMessage: action.errorMessage}\r\n        case \"CARDS-LIST/SET_CARDS_TOTAL_COUNT\":\r\n            return {...state, cardsTotalCount: action.cardsTotalCount}\r\n        case \"CARDS-LIST/SET_PAGE\":\r\n            return {...state, page: action.page}\r\n        case \"CARDS-LIST/SET_PAGE_COUNT\":\r\n            return {...state, pageCount: action.pageCount}\r\n        case \"CARDS-LIST/SET_CARD-PACK-ID\":\r\n            return {...state, cardsPack_id: action.cardsPack_id}\r\n        case \"CARDS-LIST/SET_SEARCH_QUESTION\":\r\n            return {...state, searchQuestion: action.value}\r\n        case \"CARDS-LIST/SET_SEARCH_ANSWER\":\r\n            return {...state, searchAnswer: action.value}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// actions\r\nexport const setCards = (cardsList: Array<ICardType>) => ({type: \"CARDS-LIST/SET_CARDS-LIST\", cardsList} as const)\r\nconst setLoading = (loading: boolean) => ({type: \"CARDS-LIST/SET_LOADING\", loading} as const)\r\nconst setError = (errorMessage: string) => ({type: \"CARDS-LIST/SET_ERROR\", errorMessage} as const)\r\nconst setCardsTotalCount = (cardsTotalCount: number) => ({\r\n    type: \"CARDS-LIST/SET_CARDS_TOTAL_COUNT\",\r\n    cardsTotalCount\r\n} as const)\r\nexport const setPage = (page: number) => ({type: \"CARDS-LIST/SET_PAGE\", page} as const)\r\nconst setPageCount = (pageCount: number) => ({type: \"CARDS-LIST/SET_PAGE_COUNT\", pageCount} as const)\r\nexport const setCardPackId = (cardsPack_id: string) => ({type: \"CARDS-LIST/SET_CARD-PACK-ID\", cardsPack_id} as const)\r\nexport const setSearchQuestion = (value: string) => ({type: \"CARDS-LIST/SET_SEARCH_QUESTION\", value} as const)\r\nexport const setSearchAnswer = (value: string) => ({type: \"CARDS-LIST/SET_SEARCH_ANSWER\", value} as const)\r\n\r\n// thunks\r\nexport const getCardsTC = () => (dispatch: Dispatch, getState: any) => {\r\n    const {cardsPack_id, page, pageCount} = getState().cards\r\n\r\n    dispatch(setLoading(true))\r\n    cardsApi.getCards(cardsPack_id, page, pageCount)\r\n        .then(res => {\r\n            dispatch(setCardsTotalCount(res.data.cardsTotalCount))\r\n            dispatch(setPage(res.data.page))\r\n            dispatch(setCards(res.data.cards))\r\n        })\r\n        .catch(e => {\r\n            const errorMessage = e.response?.data?.error || \"Unknown error!\"\r\n            dispatch(setError(errorMessage))\r\n        })\r\n        .finally(() => {\r\n            dispatch(setLoading(false))\r\n        })\r\n}\r\nexport const addCardTC = (): ThunkTypes =>\r\n    (dispatch, getState: any) => {\r\n        const {cardsPack_id} = getState().cards\r\n        const payload = {\r\n            cardsPack_id,\r\n            question: \"Yo, or not Yo Bro?\",\r\n            answer: \"of course Yo\",\r\n        }\r\n        dispatch(setLoading(true))\r\n        cardsApi.addNewCard(payload)\r\n            .then(res => dispatch(getCardsTC()))\r\n            .catch(e => {\r\n                const errorMessage = e.response?.data?.error || \"Unknown error!\"\r\n                dispatch(setError(errorMessage))\r\n            })\r\n    }\r\nexport const deleteCardTC = (id: string): ThunkTypes =>\r\n    (dispatch) => {\r\n        dispatch(setLoading(true))\r\n        cardsApi.deleteCard(id)\r\n            .then(res => dispatch(getCardsTC()))\r\n            .catch(e => {\r\n                const errorMessage = e.response?.data?.error || \"Unknown error!\"\r\n                dispatch(setError(errorMessage))\r\n            })\r\n    }\r\nexport const updateCardTC = (_id: string, question: string, answer: string): ThunkTypes =>\r\n    (dispatch) => {\r\n        const payload = {\r\n            _id,\r\n            question,\r\n            answer,\r\n        }\r\n        dispatch(setLoading(true))\r\n        cardsApi.updateCard(payload)\r\n            .then(res => dispatch(getCardsTC()))\r\n            .catch(e => {\r\n                const errorMessage = e.response?.data?.error || \"Unknown error!\"\r\n                dispatch(setError(errorMessage))\r\n            })\r\n    }\r\n\r\n// types\r\nexport type CardsStateType = typeof initialstate\r\n\r\nexport type CardsActionType = ReturnType<typeof setCards>\r\n    | ReturnType<typeof setLoading>\r\n    | ReturnType<typeof setError>\r\n    | ReturnType<typeof setCardsTotalCount>\r\n    | ReturnType<typeof setPage>\r\n    | ReturnType<typeof setPageCount>\r\n    | ReturnType<typeof setCardPackId>\r\n    | ReturnType<typeof setSearchQuestion>\r\n    | ReturnType<typeof setSearchAnswer>\r\n\r\nexport type ThunkTypes<ReturnType = void> = ThunkAction<ReturnType,\r\n    CardsStateType,\r\n    unknown,\r\n    CardsActionType>","import {ICardType} from \"../../c3-DAL/cardsApi\";\r\nimport React, {ChangeEvent, useState} from \"react\";\r\nimport Button from \"../../../../common/c2-Button/Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../../main/m2-BLL/store\";\r\nimport {deleteCardTC, updateCardTC} from \"../../c2-BLL/cards-reducer\";\r\nimport s from './CardsTableBody.module.css';\r\nimport {UserType} from \"../../../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\n\r\ntype CardsTableBody = {\r\n    cardsList: Array<ICardType>\r\n}\r\nexport const TableBody: React.FC<CardsTableBody> = ({cardsList}) => {\r\n    // debugger\r\n    const [edit, setEdit] = useState<boolean>(false);\r\n    const [editId, setEditId] = useState<string>('');\r\n    const [question, setQuestion] = useState<string>('');\r\n    const [answer, setAnswer] = useState<string>('');\r\n\r\n    const dispatch = useDispatch();\r\n    const searchQuestion = useSelector<AppStoreType, string>(state => state.cards.searchQuestion);\r\n    const searchAnswer = useSelector<AppStoreType, string>(state => state.cards.searchAnswer);\r\n    const user = useSelector<AppStoreType, UserType | null>(state => state.signIn.user);\r\n\r\n    let myId = '';\r\n    if (user) myId = user._id;\r\n\r\n    const cardListView = cardsList\r\n        .filter(card => card.question.indexOf(searchQuestion) > -1)\r\n        .filter(card => card.answer.indexOf(searchAnswer) > -1);\r\n\r\n    return (\r\n        <>\r\n            {cardListView.map(card => {\r\n                const deleteCardHandler = () => dispatch(deleteCardTC(card._id));\r\n                const updateCardHandler = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n                    if (e.currentTarget.innerText === 'edit') {\r\n                        myId === card.user_id && setEdit(true);\r\n                        setEditId(card._id);\r\n                        setQuestion(card.question);\r\n                        setAnswer(card.answer);\r\n                    }\r\n                    if (e.currentTarget.innerText === 'update') {\r\n                        dispatch(updateCardTC(editId, question, answer));\r\n                        myId === card.user_id && setEdit(false);\r\n                    }\r\n                };\r\n\r\n                const onChangeQuestion = (e: ChangeEvent<HTMLInputElement>) => setQuestion(e.currentTarget.value);\r\n                const onChangeAnswer = (e: ChangeEvent<HTMLInputElement>) => setAnswer(e.currentTarget.value);\r\n\r\n                return (\r\n                    <tr key={card._id}>\r\n                        <td>\r\n                            {editId === card._id && edit\r\n                                ? <input onChange={onChangeQuestion} value={question}/>\r\n                                : card.question}\r\n                        </td>\r\n                        <td>\r\n                            {editId === card._id && edit\r\n                                ? <input onChange={onChangeAnswer} value={answer}/>\r\n                                : card.answer}\r\n                        </td>\r\n                        <td>{card.updated}</td>\r\n                        <td>{card.grade}</td>\r\n                        <td>\r\n                            {myId === card.user_id && <Button\r\n                                className={s.btnCRUD}\r\n                                onClick={deleteCardHandler}\r\n                                red> delete\r\n                            </Button>}\r\n\r\n                            {myId === card.user_id && <Button\r\n                                className={s.btnCRUD}\r\n                                onClick={updateCardHandler}>\r\n                                {editId === card._id && edit ? 'update' : 'edit'}\r\n                            </Button>}\r\n\r\n                            {/*<Button*/}\r\n                            {/*    className={s.btnCRUD} >learn </Button>*/}\r\n                        </td>\r\n                    </tr>\r\n                );\r\n            })}\r\n        </>\r\n    );\r\n};","import s from './Search.module.css'\r\nimport {ChangeEvent, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setSearchAnswer, setSearchQuestion} from \"../../c2-BLL/cards-reducer\";\r\nimport Button from \"../../../../common/c2-Button/Button\";\r\n\r\nexport const Search = () => {\r\n\r\n    const [question, setQuestion] = useState('')\r\n    const [answer, setAnswer] = useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    const onChangeQuestion = (e: ChangeEvent<HTMLInputElement>) => setQuestion(e.currentTarget.value)\r\n    const onChangeAnswer = (e: ChangeEvent<HTMLInputElement>) => setAnswer(e.currentTarget.value)\r\n    const searchBtnHandler = () => {\r\n        dispatch(setSearchQuestion(question))\r\n        dispatch(setSearchAnswer(answer))\r\n    }\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <input\r\n                placeholder={\"Search by question...\"}\r\n                value={question}\r\n                onChange={onChangeQuestion}\r\n            />\r\n            <input\r\n                placeholder={\"Search by answer...\"}\r\n                value={answer}\r\n                onChange={onChangeAnswer}\r\n            />\r\n            <Button className={s.btnSearch} onClick={searchBtnHandler}>Search</Button>\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addCardTC, getCardsTC, setCardPackId, setPage} from \"../c2-BLL/cards-reducer\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {HeaderOptionType, Table} from \"../../../common/c6-Table/Table\";\r\nimport {Redirect, useHistory, useParams} from \"react-router-dom\";\r\nimport {TableBody} from \"./Component/CardsTableBody\";\r\nimport s from \"./Cards.module.css\";\r\nimport {Pagination} from \"../../f6-PacksList/p1-UI/components/Pagination/Pagination\";\r\nimport {ICardType} from \"../c3-DAL/cardsApi\";\r\nimport {Path} from \"../../../main/m1-UI/Routes\";\r\nimport {Search} from \"./Component/Search\";\r\nimport Button from \"../../../common/c2-Button/Button\";\r\nimport {Preloader} from \"../../../common/c5-Loader/Preloader\";\r\nimport {UserType} from \"../../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\n\r\nexport const CardsContainer = () => {\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const cardsList = useSelector<AppStoreType, Array<ICardType>>(state => state.cards.cardsList);\r\n    const cardsTotalCount = useSelector<AppStoreType, number>(state => state.cards.cardsTotalCount);\r\n    const page = useSelector<AppStoreType, number>(state => state.cards.page);\r\n    const pageCount = useSelector<AppStoreType, number>(state => state.cards.pageCount);\r\n    const loading = useSelector<AppStoreType, boolean>(state => state.cards.loading);\r\n    const isInitialized = useSelector<AppStoreType, boolean>(state => state.app.initialized);\r\n    const user = useSelector<AppStoreType, UserType | null>(state => state.signIn.user);\r\n\r\n    const {cardPackId} = useParams<{ cardPackId: string }>();\r\n\r\n    useEffect(() => {\r\n        dispatch(setCardPackId(cardPackId));\r\n    }, [cardPackId]);\r\n\r\n    useEffect(() => {\r\n        cardPackId && dispatch(getCardsTC());\r\n    }, [page, pageCount, cardPackId]);\r\n\r\n    const changePageHandler = (page: number) => dispatch(setPage(page));\r\n    const addCardHandler = () => dispatch(addCardTC());\r\n    const historyBack = () => {\r\n        dispatch(setPage(1));\r\n        history.goBack();\r\n    };\r\n\r\n    const tableHeaders: Array<HeaderOptionType> = [{headerTitle: \"Question\"}, {headerTitle: \"Answer\"}, {headerTitle: \"Update\"}, {headerTitle: \"Grade\"}];\r\n    const tableBody = <TableBody cardsList={cardsList}/>;\r\n\r\n\r\n    if (!isInitialized) return <Preloader/>;\r\n    if (!user) return <Redirect to={Path.SIGN_IN_PATH}/>;\r\n    return (\r\n        <>\r\n            <div className={s.backWrapper}>\r\n                <div className={s.back} onClick={historyBack}>\r\n                    <svg width=\"16\" height=\"11\" viewBox=\"0 0 16 11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M16 5.5H2M2 5.5L6.66667 1M2 5.5L6.66667 10\" stroke=\"#2D2E46\" strokeWidth=\"2\"/>\r\n                    </svg>\r\n                    <span>Back to Pack List</span>\r\n                </div>\r\n                <Button onClick={addCardHandler} className={s.addCard}>add new card</Button>\r\n            </div>\r\n            <Search/>\r\n            {loading && <Preloader/>}\r\n            <Table tableHeaders={tableHeaders} tableBody={tableBody}/>\r\n            <div className={s.footerWrapper}>\r\n                <Pagination\r\n                    totalCount={cardsTotalCount}\r\n                    count={pageCount}\r\n                    page={page}\r\n                    onChangePage={changePageHandler}/>\r\n            </div>\r\n        </>\r\n    );\r\n};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n    // baseURL: \"http://localhost:7542/2.0/\",\r\n});\r\n\r\nexport const learnApi = {\r\n    getCards(packListId: string, pageCount?: number) {\r\n        return instance.get<ResponseType>(`/cards/card`, {\r\n            params: {\r\n                cardsPack_id: packListId, pageCount\r\n            }\r\n        });\r\n    },\r\n    setGrade(payload: { card_id: string, grade: number, }) {\r\n        return instance.put(`/cards/grade`, {...payload});\r\n    }\r\n};\r\n\r\n\r\nexport type CardType = {\r\n    answer: string\r\n    answerImg: string\r\n    answerVideo: string\r\n    cardsPack_id: string\r\n    comments: string\r\n    created: string\r\n    grade: number\r\n    more_id: string\r\n    question: string\r\n    questionImg: string\r\n    questionVideo: string\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\ntype ResponseType = {\r\n    cards: Array<CardType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    packUserId: string\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}","import {CardType, learnApi} from '../l3-DAL/learnApi';\r\nimport {Dispatch} from \"redux\";\r\nimport {getRandomTest} from '../../f6-PacksList/p4-Test/test';\r\n\r\nconst initialState = {\r\n    cards: [] as Array<CardType>,\r\n    isFetch: false,\r\n    questNumber: 0,\r\n};\r\n\r\n//types\r\ntype CardsActionType = SetCardsActionType | DeleteCardActionType | SetFetchActionType | SetQuestNumberActionType\r\ntype LearnStateType = typeof initialState\r\n\r\ntype SetCardsActionType = ReturnType<typeof setCards>\r\ntype DeleteCardActionType = ReturnType<typeof deleteCard>\r\ntype SetFetchActionType = ReturnType<typeof setFetch>\r\ntype SetQuestNumberActionType = ReturnType<typeof setQuestNumber>\r\n\r\nexport const learnReducer = (state: LearnStateType = initialState, action: CardsActionType): LearnStateType => {\r\n    switch (action.type) {\r\n        case \"LEARN/QUEST_NUMBER\": {\r\n            return {...state, questNumber: action.value};\r\n        }\r\n\r\n        case \"LEARN/FETCHING\": {\r\n            return {...state, isFetch: action.isFetch};\r\n        }\r\n        case \"LEARN/DELETE_CARD_ID\": {\r\n            return {...state, cards: state.cards.filter(card => card._id !== action.cardId)};\r\n        }\r\n\r\n        case \"LEARN/SET_CARDS\": {\r\n            return {...state, cards: [...action.cards]};\r\n        }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//action\r\nconst setCards = (cards: Array<CardType>) => ({type: 'LEARN/SET_CARDS', cards} as const);\r\nconst deleteCard = (cardId: string) => ({type: 'LEARN/DELETE_CARD_ID', cardId} as const);\r\nconst setFetch = (isFetch: boolean) => ({type: 'LEARN/FETCHING', isFetch} as const);\r\nconst setQuestNumber = (value: number) => ({type: 'LEARN/QUEST_NUMBER', value} as const);\r\n\r\n//thunk\r\nexport const getQuestions = (id: string) => async (dispatch: Dispatch<any>) => {\r\n    dispatch(setFetch(true));\r\n    try {\r\n        const response = await learnApi.getCards(id, 50);\r\n        dispatch(setCards(response.data.cards));\r\n\r\n        dispatch(setFetch(false));\r\n        // dispatch(setQuestNumber(getRandomTest(response.data.cards.length)));\r\n    } catch (e) {\r\n        console.log(e);\r\n    } finally {\r\n        dispatch(setFetch(false));\r\n    }\r\n};\r\n\r\nexport const getQuestionsAfterAnswer = (card_id: string, grade: number) => async (dispatch: Dispatch<any>) => {\r\n    try {\r\n        await dispatch(deleteCard(card_id));\r\n        // dispatch(setQuestNumber(getRandomTest(value)));\r\n        const response = await learnApi.setGrade({card_id, grade});\r\n        console.log('Thunk work');\r\n        console.log(response);\r\n    } catch (e) {\r\n\r\n    }\r\n};\r\n//\r\n//\r\nexport const setNewQuestNumber = (id: number) => async (dispatch: Dispatch<any>) => {\r\n    dispatch(setQuestNumber(getRandomTest(id)));\r\n};\r\n\r\n\r\n","import React from \"react\";\r\n\r\ntype RateTypeProps = {\r\n    name?: string,\r\n    value?: number,\r\n    text?:string,\r\n    onChangeHandler?: (e: React.MouseEvent<HTMLInputElement>) => void,\r\n    defaultChecked?: boolean\r\n}\r\n\r\nexport const Rate = ({name = 'none', value = 1, onChangeHandler, defaultChecked, text='none'}: RateTypeProps) => {\r\n    return (\r\n        <span>\r\n            <label>\r\n                <input style={{margin: \"10px\"}} type=\"radio\" name={name} onClick={onChangeHandler}\r\n                       defaultChecked={defaultChecked}\r\n                       value={value}/>\r\n                {text}\r\n            </label>\r\n        </span>\r\n    );\r\n};","import React, {useState} from \"react\";\r\nimport Button from \"../../../../common/c2-Button/Button\";\r\nimport s from \"./Question.module.css\";\r\nimport {Rate} from \"./Rate/Rate\";\r\nimport {CardType} from \"../../l3-DAL/learnApi\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Path} from \"../../../../main/m1-UI/Routes\";\r\n\r\ntype QuestionTypeProps = {\r\n    card: CardType\r\n    cardName: string\r\n    returnAction: (id: string, rate: number) => void\r\n}\r\n\r\nexport const Question: React.FC<QuestionTypeProps> = ({card, cardName, returnAction}) => {\r\n    const [show, setShow] = useState<boolean>(false);\r\n    const [rate, setRate] = useState<number>(1);\r\n    const setRateHandler = (e: React.MouseEvent<HTMLInputElement>) => {\r\n        setRate(+e.currentTarget.value);\r\n    };\r\n    return (\r\n        <>\r\n            {!show &&\r\n            <div className={s.questionWrapper}>\r\n                <h1>Learn: {`\"${cardName}\"`}</h1>\r\n                <h2> Question: {card.question}</h2>\r\n                <div className={s.buttonsWrapper}>\r\n                    <Link to={Path.LERGNOM_PACKS_LIST_PATH}><Button>Cancel</Button></Link>\r\n                    <Button onClick={() => {\r\n                        setShow(true);\r\n                    }}>Show answer</Button>\r\n                </div>\r\n            </div>}\r\n\r\n            {show &&\r\n            <div className={s.questionWrapper}>\r\n                <h1>{`Learn: \"${cardName}\"`}</h1>\r\n                <div className={s.answerTitle}>\r\n                    <h3> {`Question: \"${card.question}\"`}</h3>\r\n                    <h3> {`Answer: \"${card.answer}\"`}</h3>\r\n                </div>\r\n                <div className={s.answerTitle}>\r\n                    <h3> Rate yourself: </h3>\r\n                    <Rate text={\"Did not know\"} name={'rate'} onChangeHandler={setRateHandler} value={1}\r\n                          defaultChecked/>\r\n                    <Rate text={\"Forgot\"} name={'rate'} onChangeHandler={setRateHandler} value={2}/>\r\n                    <Rate text={\"A lot of thought\"} name={'rate'} onChangeHandler={setRateHandler} value={3}/>\r\n                    <Rate text={\"Confused\"} name={'rate'} onChangeHandler={setRateHandler} value={4}/>\r\n                    <Rate text={\"Knew the answer\"} name={'rate'} onChangeHandler={setRateHandler} value={5}/>\r\n                </div>\r\n\r\n                <div className={s.buttonsWrapper}>\r\n                    <Link to={Path.LERGNOM_PACKS_LIST_PATH}><Button>Cancel</Button></Link>\r\n                    <Button onClick={() => {\r\n                        returnAction(card._id, rate);\r\n                        setShow(false);\r\n                    }}>Next</Button>\r\n                </div>\r\n            </div>}\r\n\r\n\r\n        </>\r\n\r\n\r\n    );\r\n};\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link, Redirect, useParams} from \"react-router-dom\";\r\nimport s from \"./LearnContainer.module.css\";\r\nimport {getQuestions, getQuestionsAfterAnswer, setNewQuestNumber} from \"../l2-BLL/learn-reducer\";\r\nimport {AppStoreType} from \"../../../main/m2-BLL/store\";\r\nimport {CardType} from \"../l3-DAL/learnApi\";\r\nimport {Preloader} from \"../../../common/c5-Loader/Preloader\";\r\nimport {Question} from \"./Question/Question\";\r\nimport {Path} from \"../../../main/m1-UI/Routes\";\r\nimport Button from \"../../../common/c2-Button/Button\";\r\nimport {UserType} from \"../../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\n\r\nexport const LearnContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const questions = useSelector<AppStoreType, Array<CardType>>(state => state.learn.cards);\r\n    const {cardPackId, cardPackName} = useParams<{ cardPackId: string, cardPackName: string }>();\r\n    const user = useSelector<AppStoreType, UserType | null>(state => state.signIn.user);\r\n    const questNumber = useSelector<AppStoreType, number>(state => state.learn.questNumber);\r\n\r\n    const isFetch = useSelector<AppStoreType, boolean>(state => state.learn.isFetch);\r\n\r\n    //Search card\r\n    useEffect(() => {\r\n        dispatch(getQuestions(cardPackId));\r\n    }, []);\r\n\r\n    // DeleteCard, And update\r\n    const exmapleClick = (id: string, rate: number) => {\r\n\r\n        dispatch(getQuestionsAfterAnswer(id, rate));\r\n    };\r\n\r\n    // Effect Change Random Question\r\n    useEffect(() => {\r\n        if (questions.length) {\r\n            dispatch(setNewQuestNumber(questions.length - 1));\r\n        }\r\n    }, [questNumber, exmapleClick]);\r\n\r\n\r\n    if (!user) {\r\n        return <Redirect to={Path.SIGN_IN_PATH}/>;\r\n    }\r\n    if (isFetch) return <Preloader/>;\r\n    return (\r\n        <>\r\n            <div className={s.wrapper}>\r\n                {!isFetch && questNumber >= 0 && questions.length > 0 && <Question card={questions[questNumber]}\r\n                                                                                   cardName={cardPackName}\r\n                                                                                   returnAction={exmapleClick}/>}\r\n                {questions.length <= 0 &&\r\n                <div>\r\n                    <div style={{marginBottom: \"10px\"}}>Voprosov bolshe net. V otvet ne slblshno....</div>\r\n                    <Link to={Path.LERGNOM_PACKS_LIST_PATH}><Button>Back</Button></Link>\r\n                </div>}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport {Path} from './Routes';\r\nimport s from './Header.module.css';\r\nimport {CustomNavlink} from '../../common/c4-Navlink/CustomNavlink';\r\n\r\n\r\nconst Header: React.FC = () => {\r\n\r\n    return (\r\n        <div className={s.header}>\r\n            {/*<CustomNavlink to={Path.SIGN_IN_PATH} body={\"sign-in\"}/>*/}\r\n            {/*<CustomNavlink to={Path.SIGN_UP_PATH} body={\"sign-up\"}/>*/}\r\n            {/*<CustomNavlink to={Path.FORGOT_PATH} body={\"forgot\"}/>*/}\r\n            {/*<CustomNavlink to={Path.PASSWORD_ASSISTANCE_PATH} body={\"assistance\"}/>*/}\r\n            <CustomNavlink to={Path.PROFILE_PATH} body={\"profile\"}/>\r\n            <CustomNavlink to={Path.LERGNOM_PACKS_LIST_PATH} body={\"packs-list\"}/>\r\n            {/*<CustomNavlink to={Path.CARDS_LIST_PATH} body={\"cards\"}/>*/}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import {Dispatch} from \"redux\";\r\nimport {checkUserIsAuth} from \"../f1-Sign-in/s2-BLL/Sign-in-reducer\";\r\n\r\ntype AppReducerType = {\r\n    initialized: boolean,\r\n}\r\nlet initialState: AppReducerType = {\r\n    initialized: false,\r\n};\r\n\r\ntype ActionTypes = InitializedSuccessType\r\n\r\nexport const appReducer = (state: AppReducerType = initialState, action: ActionTypes): AppReducerType => {\r\n    switch (action.type) {\r\n        case \"INITIALIZED-SUCCESS\":\r\n            return {...state, initialized: true};\r\n        default:\r\n            return {...state};\r\n    }\r\n};\r\n\r\ntype InitializedSuccessType = ReturnType<typeof initializedSuccess>;\r\n//action creator\r\nconst initializedSuccess = () => ({type: 'INITIALIZED-SUCCESS'}) as const;\r\n//thunk\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    Promise.all([dispatch(checkUserIsAuth())]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n","import React, {useEffect} from 'react';\r\nimport Header from './Header';\r\nimport Routes from './Routes';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {initializeApp} from \"../../features/f0-Initialized/app-reducer\";\r\nimport {AppStoreType} from \"../m2-BLL/store\";\r\nimport {Preloader} from \"../../common/c5-Loader/Preloader\";\r\n\r\nconst Main: React.FC = () => {\r\n    const dispatch = useDispatch();\r\n    const isInitialized = useSelector<AppStoreType, boolean>(state => state.app.initialized);\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeApp());\r\n    }, [dispatch]);\r\n\r\n    if (!isInitialized) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n\r\n            <Routes/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {signInReducer} from '../../features/f1-Sign-in/s2-BLL/Sign-in-reducer';\r\nimport {signUpReducer} from '../../features/f2-Registration/r2-BLL/Sign-up-reducer';\r\nimport {forgotReducer} from '../../features/f3-Forgot/f2-BLL/Forgot-reducer';\r\nimport {assistanceReducer} from '../../features/f4-Password-assistance/a2-BLL/assistance-reducer';\r\nimport {profileReducer} from '../../features/f5-Profile/p2-BLL/Profile-reducer';\r\nimport {packsListReducer} from \"../../features/f6-PacksList/p2-BLL/packsList-reducer\";\r\nimport {cardsReducer} from \"../../features/f7-Cards/c2-BLL/cards-reducer\";\r\nimport {appReducer} from \"../../features/f0-Initialized/app-reducer\";\r\nimport {learnReducer} from \"../../features/f9-Learn/l2-BLL/learn-reducer\";\r\n\r\n\r\nconst reducers = combineReducers({\r\n    signIn: signInReducer,\r\n    register: signUpReducer,\r\n    forgot: forgotReducer,\r\n    assistance: assistanceReducer,\r\n    profile: profileReducer,\r\n    packsList: packsListReducer,\r\n    cards: cardsReducer,\r\n    app: appReducer,\r\n    learn: learnReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n\r\nexport type AppStoreType = ReturnType<typeof reducers>\r\n\r\n// @ts-ignore\r\nwindow.store = store; // for dev\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\nimport Main from './main/m1-UI/Main';\r\nimport store from './main/m2-BLL/store';\r\n\r\nfunction App() {\r\n    return (\r\n        <div className=\"App\">\r\n            <HashRouter>\r\n                <Provider store={store}>\r\n                    <Main/>\r\n                </Provider>\r\n            </HashRouter>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}